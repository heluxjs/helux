!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["exports","react","react-dom"],t):t(e.concent={},e.React,e.ReactDOM)}(this,function(e,I,r){"use strict";I=I&&I.hasOwnProperty("default")?I.default:I,r=r&&r.hasOwnProperty("default")?r.default:r;var t,n,o,W={$$default:[]},ye="$$global",j="$$default",z="$$cc",V="$$concent_void_module_624313307",a="$$CONCENT_ROUTER",A="$$CcClass",x="$$CcFrag",_e="$$CcHook",m="$$Cc",q="$$Dispatcher",c="__cc_dispatcher_container_designed_by_zzk_qq_is_624313307__",ve=Symbol("__for_sync_param_ccsync__"),U=10,D=11,O=13,T="dispatch",me="setState",he="setModuleState",Ce="forceUpdate",w="invoke",K="sync",k="module",Ke="ref",L="computed",F="watch",ge={CC_MODULE_NAME_DUPLICATE:1002,CC_MODULE_NOT_FOUND:1012,CC_DISPATCH_STRING_INVALID:1013,CC_DISPATCH_PARAM_INVALID:1014,CC_MODULE_NOT_CONNECTED:1015,CC_CLASS_KEY_DUPLICATE:1100,CC_CLASS_INSTANCE_KEY_DUPLICATE:1200,CC_CLASS_INSTANCE_MORE_THAN_ONE:1205,CC_STORED_KEYS_NEED_CCKEY:1207,CC_REDUCER_NOT_A_FUNCTION:1503},i=((t={})[ge.CC_MODULE_NAME_DUPLICATE]="module name duplicate!",t[ge.CC_MODULE_NOT_FOUND]="module not found!",t[ge.CC_DISPATCH_STRING_INVALID]="when type param is string, it must be one of these format: (fnName)、(moduleName)/(fnName)",t[ge.CC_DISPATCH_PARAM_INVALID]="dispatch param type is invalid, it must be string or object",t[ge.CC_MODULE_NOT_CONNECTED]="module not been connected by ref",t[ge.CC_CLASS_INSTANCE_KEY_DUPLICATE]="props.ccKey duplicate",t[ge.CC_CLASS_INSTANCE_MORE_THAN_ONE]="ccClass is declared as singleton, trying new another one instance is not allowed! ",t[ge.CC_STORED_KEYS_NEED_CCKEY]="you must explicitly specify a ccKey for ccInstance when set storedKeys!",t[ge.CC_CLASS_KEY_DUPLICATE]="ccClassKey duplicate!",t[ge.CC_REDUCER_NOT_A_FUNCTION]="reducer must be a function!",t),u=Object.freeze({MODULE_GLOBAL:ye,MODULE_DEFAULT:j,MODULE_CC:z,MODULE_VOID:V,MODULE_CC_ROUTER:a,CC_CLASS:A,CC_FRAGMENT:x,CC_HOOK:_e,CC_PREFIX:m,CC_DISPATCHER:q,CC_DISPATCHER_BOX:c,CCSYNC_KEY:ve,SIG_FN_START:U,SIG_FN_END:D,SIG_FN_QUIT:12,SIG_FN_ERR:O,SIG_MODULE_CONFIGURED:14,SIG_STATE_CHANGED:15,RENDER_NO_OP:1,RENDER_BY_KEY:2,RENDER_BY_STATE:3,FOR_ONE_INS_FIRSTLY:1,FOR_ALL_INS_OF_A_MOD:2,EFFECT_AVAILABLE:1,EFFECT_STOPPED:0,DISPATCH:T,SET_STATE:me,SET_MODULE_STATE:he,FORCE_UPDATE:Ce,INVOKE:w,SYNC:K,CATE_MODULE:k,CATE_REF:Ke,FN_CU:L,FN_WATCH:F,ERR:ge,ERR_MESSAGE:i}),s=((n={})[ye]={},n[j]={},n[z]={},n),d=((o={})[ye]={},o[j]={},o[z]={},o),f={},l={},P={_computedValueOri:d,_computedValue:s,_computedRaw:l,_computedDep:f,getRootComputedValue:function(){return s},getRootComputedDep:function(){return f},getRootComputedRaw:function(){return l}},p={},y={},C={_watchRaw:y,_watchDep:p,getRootWatchDep:function(){return p},getRootWatchRaw:function(){return y}},_={isStrict:!1,isDebug:!1,computedCompare:!0,watchCompare:!0,watchImmediate:!1,bindCtxToMethod:!1},v=Symbol("cuk"),h="1",Se="2",Ee="is not a plain json object!",g="should be an string array or *!",S=console.error;function E(e){return null!=e&&0<oe(e).length}function $(e){return!E(e)}function $e(e,t){if(void 0===t&&(t=!1),!e)return!1;var n="object"==typeof e;if(n){var r=Array.isArray(e);return t?r:n&&!r}return!1}function b(e,t){var n="";n="string"==typeof e?e:i[e]||"",t&&(n+=t),n||(n="undefined message for code:"+e);var r=Error(n);return r.code=e,r}function H(e,t,n,r,o,a,c){var i;return(i={})[v]=1,i.needCompute=n,i.fn=r,i.newState=o,i.oldState=a,i.fnCtx=c,i.isLazy=e,i.result=t,i}function N(e,t){return e+"$"+t}function M(e){return e?" --verbose-info: "+e:""}function R(e){return void 0===e&&(e="green"),"color:"+e+";border:1px solid "+e}function B(e){return"%c"+e}var G=function(e){return"------------ CC "+e+" ------------"};function Y(e){S(G("WARNING")),e instanceof Error?(S(e.message),S(e.stack)):S(e)}function X(e){console.log(G("TIP")),console.log("%c"+e,"color:green;border:1px solid green;")}function J(e){if(S(G("WARNING")),S(e),_.isStrict)throw e}function Q(e,t,n){void 0===n&&(n={});var r=e[t];return r||(r=e[t]=n),r}function Z(e,t){return Q(e,t,[])}function ee(e,t){e.includes(t)||e.push(t)}function te(e,t,n){ee(Z(e,t),n)}function ne(e){void 0===e&&(e=52);var t=Math.random();return parseInt(t*e)}function re(t,n,r){if(void 0===n&&(n=[]),Array.isArray(t)){var o=[];n.forEach(function(e){t.includes(e)&&o.push(e)}),t.length=0,o.forEach(function(e){return t.push(e)})}else Object.keys(t).forEach(function(e){n.includes(e)||(r?t[e]=r:delete t[e])})}function oe(e){return Object.keys(e)}function ae(e){var t=null;return e&&(e.currentTarget&&e.type?t=e:e.nativeEvent&&e.target&&(e.currentTarget=e.target,t=e)),t}function ce(t,n,e){function r(e){e?e[t]=n:window[t]=n}window?r(e):setTimeout(function(){r(e)},3e3)}function ie(e,t){for(var n in e)if(!(n in t))return!0;for(var r in t)if(e[r]!==t[r])return!0;return!1}function we(e,t){var n=[];return e.forEach(function(e){t.includes(e)||n.push(e)}),n}function ue(e){return void 0===e&&(e={}),"string"==typeof e?{module:e}:Object.assign({module:j},e)}var se="";function de(){return se}function fe(){var t=null;return{commit:function(e){t||(t={}),Object.assign(t,e)},clear:function(){return t=null},getFnCommittedState:function(){return t}}}function le(){var e=!1;return!window||("previewFrame"===window.name||window.__SANDBOX_DATA__||window.BrowserFS)&&(e=!0),e}function pe(e){return{payload:null,renderKey:"",delay:-1,module:e,fnName:""}}function be(e){void 0===e&&(e={});var t="function"==typeof e?e():e;if(!$e(t))throw Error("state "+Ee);return t}function xe(e,t){var n=t.split(".");return function e(t,n,r,o){var a=n[o];return r===o?t[a]:e(t[a],n,r,++o)}(e,n,n.length-1,0)}function Ue(e){return"-"===e?"*":e}var De={},Oe={};function Ne(t,n,r){try{t[n][r]=1}catch(e){var o={};o[r]=1,t[n]=o}}function Ie(e,t){return e+"/"+t}function Ae(e,t){Ne(De,e,t)}function Me(e,t,n){!function(e,t){try{delete De[e][t]}catch(e){}}(Ie(e,t),n)}var Te={module:{computed:{},watch:{}},ref:{computed:{},watch:{},effect:{}}};function Re(e,t,n){var r=t[e];return{retKey:e,fn:r.fn,depKeys:r.depKeys,isLazy:n,sort:r.sort}}var We=function(e,t){return e.sort-t.sort};function ke(e,t,n,r,o,a,c,i){var u=r[o],s=[];if(!u)return{pickedFns:s,setted:[],changed:[]};var d=u.retKey_fn_,f=u.retKey_lazy_,l=u.stateKey_retKeys_,p=u.fnCount;if(e){var y=oe(d),_=oe(c),v=_;return"computed"===n?{pickedFns:y.map(function(e){return Re(e,d,f[e])}).sort(We),setted:_,changed:v}:(y.forEach(function(e){var t=d[e];t.immediate&&s.push({retKey:e,fn:t.fn,depKeys:t.depKeys,sort:t.sort})}),s.sort(We),{pickedFns:s,setted:_,changed:v})}var m=function(n,r){var o=[],a=[];return oe(r).forEach(function(e){var t=r[e];void 0!==t&&(a.push(e),t!==n[e]&&o.push(e))}),{changed:o,setted:a}}(a,c),h=m.setted,C=m.changed;if(0===h.length)return{pickedFns:s,setted:[],changed:[]};var K=h.join(",")+"|"+C.join(",")+"|"+o,g=Te[t][n],S=i?Q(g,i):g,E=S[K];return E?{pickedFns:E.map(function(e){return Re(e,d,f[e])}),setted:h,changed:C}:(function(s,o,d,f,a,l,c){if(0===o.length)return;var e=a["*"];if(e){var i=0<d.length;e.forEach(function(e){var t=f[e],n=t.fn,r=t.compare,o=t.depKeys,a=t.sort,c={retKey:e,fn:n,depKeys:o,isLazy:l[e],sort:a};r?i&&s.push(c):s.push(c)})}s.length<c&&function(){var u={},e=o.length,t=function(e){var i=o[e],t=a[i];return t?(t.forEach(function(e){if(!u[e]){var t=f[e],n=t.fn,r=t.compare,o=t.depKeys,a=t.sort,c=!0;r&&!d.includes(i)&&(c=!1),c&&(u[e]=!0,s.push({retKey:e,fn:n,depKeys:o,isLazy:l[e],sort:a}))}}),s.length===c?"break":void 0):"continue"};e:for(var n=0;n<e;n++){var r=t(n);switch(r){case"continue":continue;case"break":break e}}}();s.sort(We)}(s,h,C,d,l,f,p),S[K]=s.map(function(e){return e.retKey}),{pickedFns:s,setted:h,changed:C})}function Le(e,t,n){var r=t[n];return void 0!==r&&(e[n]=r,!0)}function Fe(t,n,e,r){void 0===n&&(n=[]),void 0===e&&(e=!1),void 0===r&&(r=!1);var o={},a=[];if(!$e(t))return{partialState:e?null:o,isStateEmpty:!0,ignoredStateKeys:a};var c=!0,i=oe(t);return i.length<n.length?i.forEach(function(e){n.includes(e)?Le(o,t,e)&&(c=!1):r&&a.push(e)}):(n.forEach(function(e){Le(o,t,e)&&(c=!1)}),r&&(a=we(i,n))),c&&e&&(o=null),{partialState:o,isStateEmpty:c,ignoredStateKeys:a}}function Pe(e,n){return new Proxy(e,{get:function(e,t){return n.includes(t)||n.push(t),e[t]},set:function(e,t){return e[t]=e[t],!0}})}function je(e,t,n,r){var o=e.ctx;if(!0===o.__$$inBM||o.__$$renderStatus===h){var a=o.ccUniqueKey;if(r){var c=o.module;if(!W[c].includes(n))return;var i=Ie(c,n);if(!0===o.__$$inBM)return void(o.__$$staticWaKeys[i]=1);if("-"!==o.watchedKeys)return;var u=o.__$$curWaKeys,s=o.__$$compareWaKeys,d=o.__$$nextCompareWaKeys;Ae(i,a),s[n]=u[n]=1,d[n]||(d[n]=2,o.__$$nextCompareWaKeyCount++)}else{var f=Ie(t,n);if(!0===o.__$$inBM)return void(o.__$$staticWaKeys[f]=1);if("-"!==o.connect[t])return;var l=o.__$$curConnWaKeys,p=o.__$$compareConnWaKeys,y=o.__$$nextCompareConnWaKeys,_=o.__$$nextCompareConnWaKeyCount;Ae(f,a),p[t][n]=l[t][n]=1;var v=y[t];v[n]||(v[n]=2,_[t]++)}}}var ze=P._computedValueOri,Ve=P._computedValue,qe=P._computedDep;function He(e,t,n,r,o){(e.retKey_stateKeys_[r]||[]).forEach(function(e){je(t,n,e,o)})}function Be(r,o,a,c){void 0===a&&(a=!0),void 0===c&&(c=!1);var i=c?r.ctx.refComputedOri:ze[o],u=c?r.ctx.refComputedValue:Ve[o];return i?new Proxy(i,{get:function(e,t){if(i.hasOwnProperty(t))if(c){var n=r.ctx.computedDep;Object.keys(n).forEach(function(e){He(n[e],r,e,t,a)})}else He(qe[o],r,o,t,a);return u[t]},set:function(e,t,n){return e[t]=n,!0}}):{}}var Ge,Ye={},Xe={};function Je(e,t,n){return e==k?Q(Ye,t):Q(Xe,n)}function Qe(e,t,n,r,o,a,c){if(void 0===c&&(c=!0),0!==a.length){var i,u;if(t===Ke){var s=e.computedDep,d=n===L?s:e.watchDep;u=Q(s,r),i=Q(d,r)}else{var f=P._computedDep,l=n===L?f:C._watchDep;u=Q(f,r),i=Q(l,r)}var p=Q(i,"stateKey_retKeys_"),y=Q(i,"retKey_stateKeys_"),_=function(e){var n=Z(y,o);e.forEach(function(e){var t=Z(p,e);Array.isArray(t)&&!t.includes(o)&&t.push(o),n.includes(e)||n.push(e)})};c?_(a):a.forEach(function(e){var t=Q(u,"retKey_stateKeys_");_(t[e]||[])})}}function Ze(e,t,n){return t===Ke?e.computedRetKeyFns:(P._computedDep[n]||{}).retKey_fn_||{}}function et(l,S,E,$,p,e,w,y,b,x,U,D,O){void 0===l&&(l={});for(var N=l.ctx,I=N?N.ccUniqueKey:"",A=0,M=e,T=!0,R=!1,t=function(){var _=1===++A&&x,e=p(M,_),t=e.pickedFns,v=e.setted,m=e.changed;if(!t.length)return"break";var n,r,o=fe(),h=o.commit,a=o.getFnCommittedState,c=fe(),C=c.commit,K=c.getFnCommittedState,g=c.clear;if(t.forEach(function(e){var r=e.retKey,t=e.fn,n=e.isLazy,o={retKey:r,callInfo:b,isFirstCall:x,commit:h,commitCu:C,setted:v,changed:m,cuVal:O,stateModule:S,refModule:E,oldState:$,committedState:M,refCtx:N},a=_&&"-"===e.depKeys,c=[],i=[];if(a&&(o.cuVal=function(n,r,o,e,t,a){var c,i;return i=k===r?(c=ze[e],Ve[e]):(c=t.refComputedOri,t.refComputedValue),new Proxy(c,{get:function(e,t){return c.hasOwnProperty(t)?a.push(t):Y(r+" "+o+" retKey["+n+"] get cuVal invalid retKey["+t+"]"),i[t]},set:function(){return!0}})}(r,D,U,S,N,c)),"computed"===U)if(n&&(delete o.commit,delete o.commitCu),a){var u=Pe(w,i),s=t(u,u,o);O[r]=H(!1,s),Qe(N,D,L,S,r,i),Qe(N,D,L,S,r,c,!1),function(e,t,n,r,o,a){var c=Je(e,o,a),i=Ze(n,o,a),u=Z(c,e);t.forEach(function(e){i[e].isStatic?u.push(e):Z(c,e).forEach(function(e){return ee(u,e)})})}(r,c,N,0,D,S)}else if(n)O[r]=H(n,null,!0,t,w,$,o);else{var d=t(w,$,o);O[r]=H(!1,d)}else{var f=w,l=$;a&&(l=f=Pe(w,i)),!1===t(f,l,o)&&(T=!1),a&&(Qe(N,D,F,S,r,i),Qe(N,D,F,S,r,c,!1))}a&&D===Ke&&i.forEach(function(e){return N.__$$staticWaKeys[Ie(S,e)]=1});var p=K();if(p){var y=Ze(N,D,S);oe(p).forEach(function(e){var t=y[e],n="commitCu: "+D+" "+U+" retKey["+r+"] can't";t?t.isStatic?function(e,t,n,r){return Z(Je(t,n,r),e)}(e,D,S,I).includes(e)?Y(n+" change ["+e+"], ["+r+"] referred ["+e+"]"):O[e]=H(!1,p[e]):Y(n+" change ["+e+"], it must have zero dep keys"):Y(n+" commit ["+e+"], it is not defined")}),g()}}),M=a()){var i=Fe(M,"ref"===D?N.privStateKeys:W[S],!0),u=i.partialState,s=i.ignoredStateKeys;if(s.length){var d="they are not "+(D===Ke?"private":"module")+", fn is "+D+" "+U;Y("these state keys["+s.join(",")+"] are invalid, "+d)}if(u)if(U===F){var f=function(e,t){return t===Ke?e.computedDep:P._computedDep}(N,D);et(l,S,E,$,function(e,t){return ke(t,D,L,f,S,$,e,I)},u,w,y,b,!1,L,D,O)}else void 0===r&&(r=!1),M=n=u,r&&0===oe(n).length?M=null:(Object.assign(w,M),Object.assign(y,M),R=!0)}2<A&&(Y("fnCtx.commit may goes endless loop, please check your code"),M=null)};M;){if("break"===t())break}return{shouldCurrentRefUpdate:T,hasDelta:R}}for(var tt=P._computedValue,nt=oe,rt={},ot=function(){return rt[q]},at=function(n,e,t){var r=void 0===t?{}:t,o=r.ref,a=void 0===o?null:o,c=r.callInfo,i=void 0===c?{}:c,u=r.noSave,s=void 0!==u&&u,d=it(n),f=tt[n],l=P.getRootComputedDep(),p=C.getRootWatchDep(),y=a||ot(),_=y.module,v=Object.assign({},d,e),m=Object.assign({},e),h=m;return et(y,n,_,d,function(e,t){return ke(t,k,"computed",l,n,d,e)},h,v,m,i,!1,"computed",k,f),et(y,n,_,d,function(e,t){return ke(t,k,"watch",p,n,d,e)},h,v,m,i,!1,"watch",k,f),s||ct(n,m),m},ct=function(t,e,n){void 0===n&&(n=!1);var r=e;if(n){var o=Fe(e,W[t],!0);r=o.partialState}if(r){var a=it(t),c=ut(t);nt(r).forEach(function(e){c[e]=a[e],st(t,e),a[e]=r[e]})}return r},it=function(e){return ft[e]},ut=function(e){return lt[e]},st=function(e,t){pt[e][t]++},dt=function(){var e;return(e={})[z]={},e[V]={},e[ye]={},e[j]={},e},ft=dt(),lt=dt(),pt={},yt={getDispatcher:ot,isHotReloadMode:function(){return!!yt.isHot||window&&(window.webpackHotUpdate||le())},runtimeVar:_,isHot:!1,reComputed:!0,isStartup:!1,moduleSingleClass:{},moduleName_stateFn_:{},moduleName_ccClassKeys_:{},moduleName_stateKeys_:W,moduleName_isConfigured_:{},ccClassKey_ccClassContext_:{},globalStateKeys:[],store:{appendState:function(e,t){var n=Z(W,e);oe(t).forEach(function(e){n.includes(e)||n.push(e)}),yt.store.setState(e,t)},_state:ft,_prevState:lt,_stateVer:pt,getState:function(e){return e?it(e):ft},getPrevState:function(e){return e?ut(e):lt},getStateVer:function(e){return e?pt[e]:pt},setState:function(e,t,n){return at(e,t,n)},setGlobalState:function(e){return at(ye,e)},saveSharedState:ct,getGlobalState:function(){return ft[ye]}},reducer:{_reducer:(Ge={},Ge[ye]={},Ge[z]={},Ge),_caller:{},_fnName_fullFnNames_:{},_module_fnNames_:{}},computed:P,watch:C,refStore:{_state:{},setState:function(e,t){var n=yt.refStore._state,r=Object.assign({},n[e],t);n[e]=r}},init:{_init:{}},ccUKey_ref_:rt,event_handlers_:{},ccUKey_handlerKeys_:{},handlerKey_handler_:{},waKey_uKeyMap_:De,waKey_staticUKeyMap_:Oe,refs:rt,info:{packageLoadTime:Date.now(),firstStartupTime:"",latestStartupTime:"",version:"2.3.19",author:"fantasticsoul",emails:["624313307@qq.com","zhongzhengkai@gmail.com"],tag:"yuna"},fragmentNameCount:0,featureStr_classKey_:{},userClassKey_featureStr_:{},errorHandler:null,middlewares:[],plugins:[],pluginNameMap:{}},_t=localStorage.length,vt=yt.refStore._state,mt=0;mt<_t;mt++){var ht=localStorage.key(mt);if(ht.startsWith("CCSS_"))try{vt[ht.substr(5)]=JSON.parse(localStorage.getItem(ht))}catch(e){console.error(e)}}var Ct=[],Kt=function(e){return e.toLowerCase()===z},gt=function(e){return/^[\$\#\&a-zA-Z0-9_-]+$/.test(e)},St=M,Et=b;function $t(e){if(!gt(e))throw Error("module["+e+"] writing is invalid!");if(Kt(e))throw Error("'$$cc' is a built-in module name for concent")}function wt(e,t,n){void 0===t&&(t=!0),void 0===n&&(n="");var r=n||"module["+e+"]",o=yt.store._state;if($t(e),e!==ye)if(t){if(E(o[e]))throw Et(ge.CC_MODULE_NAME_DUPLICATE,St(r))}else if(!o[e])throw Et(ge.CC_MODULE_NOT_FOUND,St(r))}function bt(t,e){var n=Array.isArray(e);if(!n&&"*"!==e)throw Error("storedKeys type err, "+g);n&&e.forEach(function(e){if(t.includes(e))throw Error("the item["+e+"] of storedKeys is not a module state key!")})}var xt={},Ut=function(e,t,n){if(e.code!==ge.CC_MODULE_NAME_DUPLICATE||!yt.isHotReloadMode())throw e;var r=function(e){e||(e="");for(var t=e.split("\n"),n=t.length,o="",a=0;a<n;a++)if(t[a].includes(".checkModuleNameAndState")){!function(){var e=t[a+3].split(":"),n=e.length-1,r=[];e.forEach(function(e,t){t!==n&&r.push(e)}),o=r.join(":")}();break}return o}(e.stack),o=n+"|--link--|"+t,a=xt[o];if(a){if(r!==a)throw e}else xt[o]=r},Dt={};function Ot(e){Dt[e]={}}function Nt(t,e,n){void 0===n&&(n=!0),Ot(t);var r=t===V?{}:e;try{!function(e,t,n){if(wt(e,n),!$e(t))throw Error("module["+e+"]'s state "+Ee)}(t,r,n)}catch(e){Ut(e,t,"state")}var o=yt.store,a=o.getState(),c=o.getStateVer();o.getPrevState()[t]=Object.assign({},a[t]=r),c[t]=oe(r).reduce(function(e,t){return e[t]=1,e},{});var i=Object.keys(r);if(yt.moduleName_stateKeys_[t]=i,t===ye){var u=yt.globalStateKeys;i.forEach(function(e){u.includes(e)||u.push(e)})}}function It(e,t){void 0===t&&(t=!1);var n=yt.ccUKey_ref_,r=yt.moduleName_ccClassKeys_,o=yt.ccClassKey_ccClassContext_,a=[];if(e){if(!yt.store._state[e])throw Error("module["+e+"] is not declared in store");var c=r[e];if(c&&0!==c.length){var i=c[0],u=o[i];if(!u)throw Error("no ccClassContext found for ccClassKey "+i+"!");a=u.ccKeys}if(e===j&&(a=a.filter(function(e){return!e.startsWith(x)})),0===a.length){if(!1!==t){throw Error("[[pickOneRef]]: no ref found for module["+e+"]!,if this message doesn't matter, you can ignore it")}a=[q]}}else a=[q];var s=n[a[0]];if(!s)throw Error("cc found no ref!");return s}var At=N,Mt=Y,Tt=function(){return Promise.resolve()};function Rt(e,t,n,r,o){void 0===n&&(n="");var a=void 0===o?{}:o,c=a.ccClassKey,i=a.ccKey,u=a.throwError,s=a.refModule,d=void 0===s?"":s;if(void 0===e&&void 0===t)throw Error("params type error");var f,l="",p="";try{if(c&&i){var y=At(c,i),_=yt.refs[y];if(!_)return Mt("no ref found for ccUniqueKey:"+y+"!"),Tt();f=_.ctx.dispatch}else{if("string"==typeof e)if(e.includes("/")){var v=e.split("/");l=v[0],p=v[1]}else p=e;var m;if(!(m=l&&"*"!==l?It(l):d?It(d):It()))return Mt("no ref found"),Tt();f=m.ctx.dispatch}if("*"!==l)return f(e,t,n,r);var h=yt.reducer._fnName_fullFnNames_[p];if(!h)return;var C=[];return h.forEach(function(e){C.push(f(e,t,n,r))}),Promise.all(C)}catch(e){if(u)throw e;return Mt(e.message),Tt()}}function Wt(e,t,n,r,o){return Rt(e,t,n,r,o)}function kt(a,e){void 0===e&&(e={});var t="module["+a+"] reducer";if(!$e(e))throw Error(t+" "+Ee);wt(a,!1,t+" is invalid");var n=yt.reducer,r=n._reducer,o=n._caller,c=n._fnName_fullFnNames_,i=n._module_fnNames_,u=Object.assign({},e);r[a]=u;var s=Q(o,a),d=Z(i,a);u.setState||(u.setState=function(e){return e}),oe(u).forEach(function(e){d.includes(e)||d.push(e);var r=a+"/"+e,t=Z(c,e);t.includes(r)||t.push(r),s[e]=function(e,t,n){return Wt(r,e,t,n)};var o=u[e];if("function"!=typeof o)throw Error("reducer key["+e+"] 's value is not a function");var n=o;o.__fnName&&(u[e]=n=function(e,t,n){return o(e,t,n)}),n.__fnName=e,n.__stateModule=a,n.__ctName=o.__ctName||o.constructor.name})}var Lt=0,Ft=["a","A","b","B","c","C","d","D","e","E","f","F","g","G","h","H","i","I","j","J","k","K","l","L","m","M","n","N","o","O","p","P","q","Q","r","R","s","S","t","T","u","U","v","V","w","W","x","X","y","Y","z","Z"];function Pt(e){return Lt++,(e||function(e){void 0===e&&(e=6);for(var t="",n=0;n<e;n++)t+=Ft[ne()];return t}())+"_"+Lt}var jt=yt.moduleName_stateKeys_,zt=yt.runtimeVar;function Vt(e,t,n,r,o,a,c){var i=t.refCtx,u=t.type;if(e!==Ke||i.__$$inBM){if(n){var s,d,f,l=typeof n;if("string"==l)s=$e(r)?((d={})[n]=r,d):((f={})[n]={fn:r,depKeys:o,compare:a,immediate:c},f);else if($e(n))s=n;else if("function"==l&&!$e(s=n(i)))throw Error("type of "+u+" callback result must be an object");s?function(N,I,A){var e=zt.computedCompare,t=zt.watchCompare,M=zt.watchImmediate,T="computed"===I.type?e:t,R=I.module;oe(A).forEach(function(c,e){var t=A[c],n=typeof t,r=t;if("function"==n&&(r={fn:t}),$e(r)){var o=r,a=o.fn,i=o.immediate,u=void 0===i?M:i,s=o.compare,d=void 0===s?T:s,f=o.lazy,l=o.retKeyDep,p=void 0===l||l,y=r.depKeys||"-",_=r.sort||I.sort||e,v=Pt("mark");if("*"===y||"-"===y){var m="-"===y&&p,h=Gt(I,R,c,m),C=h.pureKey,K=h.module;qt(N,I,v,C),Bt(N,I,K,C,a,y,u,d,f,_)}else{if(y&&!Array.isArray(y))throw Error("depKeys must an string array or *");if(y&&0!==y.length){var g=Gt(I,R,c),S=g.pureKey,E=g.moduleOfKey,$=E;qt(N,I,v,S);var w={};y.forEach(function(e){var t=Gt(I,R,e),n=t.isStateKey,r=t.pureKey,o=t.module;if($&&o!==$)throw Error("including slash both in retKey["+c+"] and depKey["+e+"] founded, but their module is different");var a=Z(w,o);if(!n)throw Error("depKey["+e+"] invalid, module["+o+"] doesn't include its stateKey["+r+"]");Ht(I,o,r),a.push(r)}),oe(w).forEach(function(e){Bt(N,I,e,S,a,w[e],u,d,f,_)})}else{var b=Gt(I,R,c),x=b.isStateKey,U=b.pureKey,D=b.module,O=[];!y&&x&&(O=[U]),qt(N,I,v,U),Bt(N,I,D,U,a,O,u,d,f,_)}}}else Y("retKey["+c+"] item type error")})}(e,t,s):Y(e+" "+u+" param type error")}}else Y(e+" "+u+" must be been called in setup block")}function qt(e,t,n,r){if(e===Ke){var o=t.refCtx,a=o.retKey_fnUid_,c=t.type,i=c+"_"+r;if(a[i])throw Error("ccUKey["+o.ccUniqueKey+"], retKey["+r+"] duplicate in ref "+c);a[i]=n}}function Ht(e,t,n){var r=e.refCtx;r&&(r.__$$staticWaKeys[Ie(t,n)]=1)}function Bt(e,t,n,r,o,a,c,i,u,s){var d=Q(t.dep,n,{retKey_fn_:{},retKey_lazy_:{},stateKey_retKeys_:{},retKey_stateKeys_:{},fnCount:0}),f=d.retKey_fn_,l=d.stateKey_retKeys_,p=d.retKey_lazy_,y=d.retKey_stateKeys_,_=Array.isArray(a)&&0===a.length,v=s;_?v=-1:s<0&&(v=0);var m={fn:o,immediate:c,compare:i,depKeys:a,sort:v,isStatic:_};f[r]?e!==Ke&&(f[r]=m,p[r]=t.isLazyComputed||u):(f[r]=m,p[r]=t.isLazyComputed||u,d.fnCount++),e===Ke&&(t.retKeyFns[r]=f[r]);var h=t.refCtx;if(h&&("computed"===t.type?h.hasComputedFn=!0:h.hasWatchFn=!0),"-"!==a){var C="*"===a?["*"]:a;"*"===a&&(y[r]=jt[n]),C.forEach(function(e){te(l,e,r)})}}function Gt(e,t,n,r){void 0===r&&(r=!1);var o,a=t,c=n,i="";if(n.includes("/")){var u=n.split("/"),s=u[0];s&&(a=i=s),c=u[1]}var d=jt[a];if(a===e.module)o=e.stateKeys;else{if(!(o=d))throw b(ge.CC_MODULE_NOT_FOUND,M("module["+a+"]"));if(!e.connect[a])throw b(ge.CC_MODULE_NOT_CONNECTED,M("module["+a+"], retKey["+c+"]"))}var f=o.includes(c);return r&&f&&function(e,t,n,r){var o=Q(e.dep,t,{retKey_fn_:{},retKey_lazy_:{},stateKey_retKeys_:{},retKey_stateKeys_:{},fnCount:0}),a=o.retKey_stateKeys_;te(o.stateKey_retKeys_,n,n),te(a,n,n),r&&Ht(e,t,n)}(e,a,c,d.includes(c)),{isStateKey:f,pureKey:c,module:a,moduleOfKey:i}}function Yt(e,o){var t={};return oe(e).forEach(function(r){o[r]=H(),Object.defineProperty(t,r,{get:function(){var e=o[r]||{},t=e.isLazy;if(!t)return e.result;if(t&&e.needCompute){var n=(0,e.fn)(e.newState,e.oldState,e.fnCtx);e.result=n,e.needCompute=!1}return e.result},set:function(e){var t=o[r];e[v]?e.isLazy?(t.isLazy=!0,t.needCompute=!0,t.newState=e.newState,t.oldState=e.oldState,t.fn=e.fn,t.fnCtx=e.fnCtx):(t.isLazy=!1,t.result=e.result):Y("computed value can not been changed manually")}})}),t}var Xt=Q,Jt=$e;function Qt(n,e){if(e){var t="module["+n+"] computed";if(!Jt(e))throw Error(t+" "+Ee);wt(n,!1,t+" is invalid");var r=yt.computed,o=yt.store.getState(),a=r.getRootComputedValue(),c=r.getRootComputedDep();r.getRootComputedRaw()[n]=e;var i=o[n];Vt(k,{type:L,module:n,stateKeys:oe(i),dep:c},e);var u=yt.getDispatcher(),s=Object.assign({},i),d=Xt(r._computedValueOri,n);a[n]=Yt(e,d);var f=a[n];et(u,n,u&&u.ctx.module,i,function(e,t){return ke(t,k,"computed",c,n,i,e)},i,i,s,pe(n),!0,"computed",k,f)}}var Zt=$e,en=Q,tn=oe;function nn(n,e,t){if(void 0===t&&(t=!1),e){var r="module["+n+"] watch";if(!Zt(e))throw Error(r+" "+Ee);wt(n,!1,r+" is invalid");var o=yt.watch.getRootWatchDep(),a=yt.watch.getRootWatchRaw(),c=yt.computed.getRootComputedValue();if(t){var i=a[n];i?Object.assign(i,e):a[n]=e}else a[n]=e;var u=(0,yt.store.getState)(n);Vt(k,{module:n,stateKeys:tn(u),dep:o},e);var s=yt.getDispatcher(),d=Object.assign({},u),f=en(c,n);et(s,n,s&&s.ctx.module,u,function(e,t){return ke(t,k,"watch",o,n,u,e)},u,u,d,pe(n),!0,"watch",k,f)}}var rn=[U,D,12,O,14,15],on={};function an(t,n){on[t].forEach(function(e){e({sig:t,payload:n})})}function cn(e,t){function n(e,t){var n=on[e];n?n.push(t):console.warn("invalid sig["+e+"]")}Array.isArray(e)?e.forEach(function(e){n(e,t)}):n(e,t)}rn.forEach(function(e){return on[e]=[]});var un=function(e){if(!yt.errorHandler)throw e;yt.errorHandler(e)},sn=0,dn={},fn={},ln={},pn={};function yn(){return++sn}function _n(e,t,n,r){if(n){var o=r[e];o||(o=r[e]={});var a=o[t];a?Object.assign(a,n):o[t]=n}}function vn(e,t,n){_n(e,t,n,dn)}function mn(e,t,n){return vn(e,t,n),function(e){var t=function(e){return dn[e]}(e),n=[];return oe(t).forEach(function(e){n.push({module:e,state:t[e]})}),n}(e)}function hn(e){delete dn[e]}var Cn={},Kn=function(e,t,n){void 0===n&&(n=1e3);var r=Cn[t];r&&clearTimeout(r),Cn[t]=setTimeout(function(){delete Cn[t],e()},n)};function gn(e,n,r,t,o,a){var c=e.ctx;if(!c.hasWatchFn)return{shouldCurrentRefUpdate:!0};var i=Object.assign({},t),u=c.watchDep,s=c.module,d=c.ccUniqueKey,f=c.refComputed;n!==s&&(f=c.connectedComputed[n]);var l=Object.assign({},r,t);return et(e,n,s,r,function(e,t){return ke(t,Ke,F,u,n,r,e,d)},t,l,i,o,a,F,Ke,f)}function Sn(e,n,r,t,o,a,c){void 0===a&&(a=!1),void 0===c&&(c=!1);var i=e.ctx,u=Object.assign({},t);if(!i.hasComputedFn)return u;var s=i.computedDep,d=i.module,f=i.ccUniqueKey,l=i.refComputed;n!==d&&(l=i.connectedComputed[n]);var p=Object.assign({},r,t);return et(e,n,d,r,function(e,t){return ke(t,Ke,"computed",s,n,r,e,f)},t,p,u,o,a,"computed",Ke,l),c&&Object.assign(t,u),u}var En=oe,$n=yt.ccUKey_ref_,wn=yt.waKey_uKeyMap_,bn=yt.waKey_staticUKeyMap_;function xn(o,e,c,i){var t=En(e),n=function(e,t,n,r){return void 0===n&&(n=""),void 0===r&&(r=[]),e+"/"+t.sort().join(",")+"/"+n+"/"+("*"===r?"*":r.sort().join(","))}(o,t,c,i),r=function(e,t){return Dt[e][t]}(o,n);if(r)return{sharedStateKeys:t,result:r};var a={},u=[],s=[];t.forEach(function(e){var t=o+"/"+e;Object.assign(a,wn[t],bn[t])});function d(e,t){e?u.push(t):s.push(t)}function f(e,t){var n=e.ctx,r=n.ccClassKey,o=n.ccUniqueKey;if(c){var a=n.renderKey===c;"*"===i?a&&d(t,o):i.includes(r)?a&&d(t,o):d(t,o)}else d(t,o)}var l=En(a),p=!1;l.forEach(function(e){var t=$n[e];if(t){var n=t.ctx,r=!!n.connect[o];n.module===o&&f(t,!0),r&&f(t,!1)}else p=!0});var y={belong:u,connect:s};return p||function(e,t,n){Dt[e][t]=n}(o,n,y),{sharedStateKeys:t,result:y}}var Un=$e,Dn=Y,On=E,Nn=function(e,t){return e+"/"+Object.keys(t).sort().join("|")},In=oe,An=1,Mn=2,Tn=Ce,Rn=me,Wn=he,kn=w,Ln=K,Fn=15,Pn=1,jn=2,zn=3,Vn=yt.store,qn=Vn.setState,Hn=Vn.getPrevState,Bn=Vn.saveSharedState,Gn=yt.middlewares,Yn=yt.ccClassKey_ccClassContext_,Xn=yt.refStore,Jn=yt.moduleName_stateKeys_;function Qn(e,t,c){var n=void 0===t?{}:t,i=n.module,r=n.skipMiddleware,u=void 0!==r&&r,s=n.payload,o=n.reactCallback,d=n.type,a=n.calledBy,f=void 0===a?Rn:a,l=n.fnName,p=void 0===l?"":l,y=n.renderKey,_=void 0===y?"":y,v=n.delay,m=void 0===v?-1:v;if(void 0!==e)if(Un(e)){var h=c.ctx,C=h.module,K=h.ccUniqueKey,g=h.ccKey,S=function(e,t){return e===t?An:Mn}(i,C),E={payload:s,renderKey:_,ccKey:g,module:i,fnName:p},$=function(e,t,n){var r=Fe(t,Jn[e],!0).partialState;if(r)return qn(e,r,n);return r}(i,e,{ref:c,callInfo:E,noSave:!0});Object.assign(e,$),Zn(c,E,_,f,e,S,o,function(n,r,o){var a={calledBy:f,type:d,payload:s,renderKey:_,delay:m,ccKey:g,ccUniqueKey:K,committedState:r,refModule:C,module:i,fnName:p,sharedState:$||{},modState:function(e,t){a.committedState[e]=t,a.sharedState[e]=t}};!function(e,n,r){var o=!1;if(!0!==e){var a=Gn.length;if(0<a){o=!0;var c=0;!function e(){if(c===a)r(o);else{var t=Gn[c];c++,"function"==typeof t?t(n,e):(Dn("found one middleware is not a function"),e())}}()}else r()}else r(o)}(u,a,function(e){var t=$;e?t=Bn(i,a.sharedState,!0):$&&Bn(i,$),o&&o(),n===Pn&&!t||an(Fn,{committedState:r,sharedState:t,module:i,type:function(e,t){return[Tn,Rn,Wn,kn,Ln].includes(e)?"ccApi/"+e:"dispatch/"+t}(f,d),ccUniqueKey:K,renderKey:_}),t&&function(e,t,n,r,o,a,c){var i=function(){!function(c,e,i,t,u,n){if(!i)return;var s=yt.ccUKey_ref_,r=e.ctx,o=r.ccUniqueKey,a=t===An,d=xn(u,i,n,Yn[r.ccClassKey].renderKeyClasses),f=d.sharedStateKeys,l=d.result,p=l.connect;l.belong.forEach(function(e){var t=s[e];if(t){var n=t.ctx.ccUniqueKey;a&&n===o||Zn(t,c,null,"broadcastState",i,An)}});var y=Hn(u);p.forEach(function(e){var t=s[e];if(t&&!0!==t.__$$isUnmounted){var n=t.ctx,r=Sn(t,u,y,i,c),o=gn(t,u,y,r,c),a=o.shouldCurrentRefUpdate;a&&(n.__$$settedList.push({module:u,keys:f}),n.__$$ccForceUpdate())}})}(e,t,n,r,o,a)};if(0<c){var u=Nn(t.ctx.ccUniqueKey,n);Kn(i,u,c)}else i()}(E,c,t,S,i,_,m)})})}else Dn("your committed state "+Ee)}function Zn(e,t,n,r,o,a,c,i){var u=e.state,s=e.ctx;if(!0===e.__$$isUnmounted||a!==An||r!==Tn&&!On(o))return c&&c(u),i&&i(Pn,o);var d=s.module,f=s.storedKeys,l=s.ccUniqueKey,p=zn;if(n&&(p=jn,s.renderKey!==n))return i&&i(Pn,o);if(0<f.length){var y=Fe(o,f),_=y.partialState;if(!y.isStateEmpty){if(!0===s.persistStoredKeys){var v=Fe(u,f),m=Object.assign({},v.partialState,_);localStorage.setItem("CCSS_"+l,JSON.stringify(m))}Xn.setState(l,_)}}function h(){s.__$$settedList.push({module:d,keys:In(C)}),s.__$$ccSetState(C,c,K)}var C=Sn(e,d,u,o,t),K=gn(e,d,u,C,t,!1).shouldCurrentRefUpdate;i?i(p,C,h):h()}function er(e,t,n,r,o){void 0===r&&(r=-1);try{It(e).ctx.changeState(t,{ccKey:"[[top api:setState]]",module:e,renderKey:n,delay:r,skipMiddleware:o})}catch(e){J(e)}}var tr=Y,nr=$e,rr=oe,or=yt.store,ar=or.getState,cr=or.setState,ir=yt.reducer._reducer,ur=yt.computed._computedValue,sr=b,dr=M;function fr(e,t){void 0===t&&(t=!0);try{return wt(e,!1,"module["+e+"] is not configured in store"),!0}catch(e){return function(e,t){if(void 0===t&&(t=!0),t)throw e;yr(e)}(e,t),!1}}function lr(o,a){return function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e?a(e):o.apply(void 0,n)}}function pr(e,t,n,r){var o;return!0===e?(function(e){ln[e]=!0}(o=yn()),r[o]=1):r[o=t||yn()]||(r[o]=1),{_chainId:o,_oriChainId:n||o}}function yr(e,t){e&&(t?t(e):(tr(e),yt.errorHandler&&yt.errorHandler(e)))}function _r(e,t,n){return function(r,o,a,c){return new Promise(function(e,t){var n=Object.assign(a,{__innerCb:lr(e,t)});r(o,n,c)}).catch(un)}(Kr,e,t,n)}function vr(e,t,n){return _r(e,{callerRef:t.callerRef,context:!0,module:t.module,calledBy:t.calledBy,fnName:e.name,delay:t.delay,renderKey:t.renderKey,chainId:t.chainId,oriChainId:t.oriChainId,chainId_depth_:t.chainId_depth_,isSilent:t.isSilent},n)}function mr(a,c){return function(e,t,n){var r=a.ctx;if(c){var o=Object.assign({},r.state,e);c.state=o}n?(r.renderCount+=1,r.reactSetState(e,t)):(Object.assign(a.state,e),r.state=a.state)}}function hr(n){return function(e){var t=n.ctx;t.renderCount+=1,t.reactForceUpdate(e)}}function Cr(h,e){var t=void 0===e?{}:e,C=t.chainId,K=t.oriChainId,g=t.isLazy,n=t.delay,S=void 0===n?-1:n,r=t.isSilent,E=void 0!==r&&r,o=t.chainId_depth_,$=void 0===o?{}:o;return function(e,t,n,r){var o=g,a=E,c="",i=null!=r?r:S;if(nr(n)){var u=n.lazy,s=n.silent,d=n.renderKey,f=n.delay;void 0!==u&&(o=u),void 0!==s&&(a=s),void 0!==d&&(c=d),void 0!==f&&(i=f)}else c=n;var l,p,y=pr(o,C,K,$),_=typeof e,v={callerRef:h,calledBy:w,module:h.ctx.module,isSilent:a,chainId:y._chainId,oriChainId:y._oriChainId,chainId_depth_:$,delay:i,renderKey:c},m=Error("param type error, correct usage: invoke(userFn:function, ...args:any[]) or invoke(option:[module:string, fn:function], ...args:any[])");if("function"==_)return e.__fnName&&(e.name=e.__fnName),vr(e,v,t);if("object"!=_)throw m;if(p=Array.isArray(e)?(l=e[1],e[0]):(l=e.fn,e.module),"function"!=typeof l)throw m;return p&&(v.module=p),vr(l,v,t)}}function Kr(l,e,p){var y=e.callerRef,_=y.ctx.module,t=e.module,v=void 0===t?_:t,n=e.context,m=void 0!==n&&n,h=e.__innerCb,C=e.type,K=e.calledBy,g=e.fnName,r=e.delay,S=void 0===r?-1:r,E=e.renderKey,$=e.chainId,w=e.oriChainId,b=e.chainId_depth_,x=e.isSilent;!function(e,t,n,r){var o=n;fr(e,!1)?(e!==t&&n&&(tr(function(e,t){return"param module["+e+"] must equal current ref's module["+t+"] when pass param reactCallback, or it will never been triggered! "}(e,t)),o=null),r(null,o)):r(Error("inputModule:"+e+" invalid"),null)}(v,_,e.cb,function(e,r){if(e)return yr(e,h);var o,t=ar(v),n={};if(o=$===w&&1===b[$],m){b[$]=b[$]+1;var a=gr(y,!1,x,v,E,S,$,w,b),c=gr(y,!1,!0,v,E,S,$,w,b),i=gr(y,!0,x,v,E,S,$,w,b),u=Cr(y,{delay:S,chainId:$,oriChainId:w,chainId_depth_:b}),s=Cr(y,{isLazy:!0,delay:S,oriChainId:w,chainId_depth_:b}),d=Cr(y,{isLazy:!1,delay:S,isSilent:!0,oriChainId:w,chainId_depth_:b}),f=function(e){return pn[e]}($)||{};n={module:v,callerModule:_,committedStateMap:f,committedState:f[v]||{},invoke:u,lazyInvoke:s,silentInvoke:d,invokeLazy:s,invokeSilent:d,dispatch:a,lazyDispatch:i,silentDispatch:c,dispatchLazy:i,dispatchSilent:c,rootState:ar(),globalState:ar(ye),moduleState:t,moduleComputed:ur[v]||{},setState:function(e){return a("setState",e,{silent:x,renderKey:E,delay:S})},refCtx:y.ctx}}!1===x&&an(U,{isSourceCall:o,calledBy:K,module:v,chainId:$,fn:l}),new Promise(function(e){return e(l(p,t,n))}).then(function(e){b[$]=b[$]-1;var t=1===b[$];!function(e,t,n){_n(e,t,n,pn)}($,v,e);var n=[];!1===x&&(an(D,{isSourceCall:o,calledBy:K,module:v,chainId:$,fn:l}),!function(e){return!0===ln[e]}($)?n=[{module:v,state:e}]:t?function(e){return!0===fn[e]}($)||(n=mn($,v,e),hn($)):vn($,v,e)),n.forEach(function(e){e.state&&Qn(e.state,{renderKey:E,module:e.module,reactCallback:r,type:C,calledBy:K,fnName:g,delay:S,payload:p},y)}),o&&(hn($),function(e){delete pn[e]}($)),h&&h(null,e)}).catch(function(e){an(O,{isSourceCall:o,calledBy:K,module:v,chainId:$,fn:l}),yr(e,h)})})}function gr(b,x,U,D,O,N,I,A,M){return void 0===O&&(O=""),void 0===N&&(N=-1),void 0===M&&(M={}),function(e,n,t,r){void 0===e&&(e={});var o=x,a=U,c="",i=r||N;if(nr(t)){c=O;var u=t.lazy,s=t.silent,d=t.renderKey,f=t.delay;void 0!==u&&(o=u),void 0!==s&&(a=s),void 0!==d&&(c=d),void 0!==f&&(i=f)}else c=t||O;function l(){return Cr(b,{chainId:v,oriChainId:m,isLazy:o,chainId_depth_:M})(e,n,c,i)}var p,y,_=pr(o,I,A,M),v=_._chainId,m=_._oriChainId,h=typeof e,C=D;if(h&&"object"==h){if(Array.isArray(h))return l();var K=e.module;K&&(C=K),p=e.type,y=e.cb}else{if("string"!=h&&"function"!=h)return Promise.reject(sr(ge.CC_DISPATCH_PARAM_INVALID));var g=e;if("function"==h){var S=e.__fnName;if(!S)return l();g=S,1==M[m]&&(C=e.__stateModule)}var E=g.split("").filter(function(e){return"/"===e}).length;if(0===E)p=g;else{if(1!==E)return Promise.reject(sr(ge.CC_DISPATCH_STRING_INVALID,dr(g)));var $=g.split("/"),w=$[0];w&&(C=w),p=$[1]}}return"*"===C?Rt("*/"+p,n,{silent:a,lazy:o,renderKey:c},i,{refModule:b.ctx.module}):new Promise(function(e,t){!function(e){var t=void 0===e?{}:e,n=t.callerRef,r=t.module,o=t.renderKey,a=t.isSilent,c=t.type,i=t.payload,u=t.cb,s=t.__innerCb,d=t.delay,f=void 0===d?-1:d,l=t.chainId,p=t.oriChainId,y=t.chainId_depth_,_=ir[r];if(!_)return s(Error("no reducerMap found for module:["+r+"]"));var v=_[c];if(!v)return s(Error("no reducer fn found for ["+r+"/"+c+"], is these fn you want:"+Object.keys(_)));Kr(v,{callerRef:n,module:r,type:c,cb:u,context:!0,__innerCb:s,calledBy:T,delay:f,renderKey:o,isSilent:a,chainId:l,oriChainId:p,chainId_depth_:y},i)}({callerRef:b,module:C,type:p,payload:n,cb:y,__innerCb:lr(e,t),delay:i,renderKey:c,isSilent:a,chainId:v,oriChainId:m,chainId_depth_:M})}).catch(un)}}function Sr(a){return function(t){try{er(a,t)}catch(e){var n=ar(a);if(!n)return tr("invalid module "+a);var r=Fe(t,rr(n),!1,!0),o=r.ignoredStateKeys;r.isStateEmpty||cr(a,r.partialState),0<o.length&&tr("invalid keys:"+o.join(",")+", their value is undefined or they are not declared in module"+a),X("no ccInstance found for module["+a+"] currently, cc will just store it, lately ccInstance will pick this state to render")}}}var Er=function(o){return function(e,t){var n=o.ctx,r=Object.assign({},o.state,e);n.type===_e?(o.state=n.state=r,n.__boundSetState(r),t&&t(r)):(n.state=r,o.__$$isMounted?o.state=r:Object.assign(o.state,e),n.__boundSetState(r,t))}},$r=function(r){return function(e){var t=r.ctx;if(t.type===_e){var n=Object.assign({},r.state);t.__boundSetState(n),e&&e(n)}else t.__boundForceUpdate(e)}},wr=$e,br=be;function xr(t,e){if(yt.isStartup){if(!wr(e))throw Error("param config "+Ee);if(t===ye)throw Error("configuring global module is not allowed");var n=e.reducer,r=e.computed,o=e.watch,a=e.init,c=e.isClassSingle,i=br(e.state);if(n&&!wr(n))throw Error("config.reducer "+Ee);if(Nt(t,i,!0),kt(t,n),r&&Qt(t,r),o&&nn(t,o),yt.moduleSingleClass[t]=!0===c,a){if("function"!=typeof a)throw Error("init value must be a function!");Promise.resolve().then(a).then(function(e){Sr(t)(e)})}yt.moduleName_isConfigured_[t]=!0,an(14,t)}else Ct.push({module:t,config:e})}function Ur(r,o){var a={};return oe(r).forEach(function(e){function t(){return n.apply(void 0,arguments)}var n=r[e];t.__fnName=e,t.__stateModule=o,a[e]=t}),a}function Dr(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}function Or(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Nr=oe,Ir=$e,Ar=yt.store._state;var Mr=$,Tr=b,Rr=yt.featureStr_classKey_,Wr=yt.userClassKey_featureStr_,kr=yt.ccClassKey_ccClassContext_,Lr=0;var Fr=yt.moduleName_stateKeys_,Pr=yt.moduleName_ccClassKeys_,jr=yt.moduleSingleClass,zr=yt.ccClassKey_ccClassContext_,Vr=yt.computed._computedValue,qr=function(e,t){var n=!1,r=!1;if(!Array.isArray(e))return{duplicate:n,notArray:!0,keyElementNotString:r};if(!Array.isArray(t))return{duplicate:n,notArray:!0,keyElementNotString:r};var o=e.length,a=t.length;e:for(var c=0;c<o;c++){var i=e[c];if("string"!=typeof i){r=!0;break e}for(var u=0;u<a;u++){var s=t[u];if("string"!=typeof s){r=!0;break e}if(s===i){n=!0;break e}}}return{duplicate:n,notArray:!1,keyElementNotString:r}},Hr=M;function Br(e,t,n,r,o,a,c,i,u){void 0===e&&(e=j),void 0===a&&(a=[]),!0===i&&function(){if(!0!==yt.isStartup)throw Error("you must startup cc by call startup method before register ReactClass to cc!")}();var s="cc"===u;wt(e,!1,"module["+e+"] is not configured in store"),bt(Fr[e],a);var d=c;Array.isArray(c)&&(d={},c.forEach(function(e){return d[e]="-"})),e===ye||d[ye]||(d[ye]="-");var f,l=function(e,t,n){if(t===q)return[];if(!n)return[];if("*"===n)return Fr[e];var r=qr(n,[]);if(r.notArray||r.keyElementNotString)throw Error("watchedKeys "+g+" "+Hr("ccClassKey:"+t));return n}(e,t,o),p=function(o,e,t,a){if(!Ir(o))throw Error("CcFragment or CcClass's prop connect type error, it "+Ee);function c(e){return i+" module["+e+"]'s value must be * or array of string"}var i="CcFragment or CcClass's prop connect is invalid,",n=Nr(o);n.sort();var u=[],s={};if(n.forEach(function(t){var n=Ar[t],r=a+"_"+t+"/";if(void 0===n)throw Error(i+" module["+t+"] not found in cc store ");var e=o[t];if("string"==typeof e){if("*"!==e&&"-"!==e)throw Error(c(t));u.push(r+"*"),Nr(n).forEach(function(e){return s[t+"/"+e]=e})}else{if(!Array.isArray(e))throw Error(c(t));e.forEach(function(e){if(!n.hasOwnProperty(e))throw Error(i+" module["+t+"]'s key["+e+"] not declared in cc store ");r+=e+",",s[t+"/"+e]=e}),u.push(r)}}),u.push("|"),"*"===e)u.push(a+"_$"+t+"/*");else{e.sort();var r=t+"/"+e.join(",");u.push(r)}return{featureStr:u.join("@"),connectedModuleKeyMapping:s,connectedModuleNames:n}}(d,l),y=p.connectedModuleKeyMapping,_=p.connectedModuleNames,v=function(e,t,n,r,o,a,c){if(void 0===c&&(c=""),!c){if(t===j&&Mr(n)&&0===r.length)return o+"0";var i=o+":"+a,u=Rr[i];return u||(Rr[i]=u=""+o+ ++Lr)}if(c.startsWith(m))throw Error("user can not specify a classKey["+c+"] starts with $$Cc");if(!e&&c.toLowerCase()==q.toLowerCase())throw Error(q+" is cc built-in ccClassKey name, if you want to customize your dispatcher, \n      you can set autoCreateDispatcher=false in StartupOption, and use createDispatcher then.");if(kr[c]){if(Wr[c]!==a)throw Tr(ge.CC_CLASS_KEY_DUPLICATE,"ccClassKey:["+c+"] duplicate")}else Wr[c]=a;return c}(s,e,d,l,r,p.featureStr,t);if(n){if(!Array.isArray(n)&&"*"!==n)throw Error("renderKeyClasses type err, it is must be an array or string *");f=n}else f=[v];return function(e,t,n,r,o,a,c){var i=zr[e];i||(i=function(e,t,n,r,o){return{module:e,ccClassKey:t,renderKeyClasses:n,originalWatchedKeys:o,watchedKeys:r,ccKeys:[],connectedState:{},connectedModuleKeyMapping:null,connectedModule:{}}}(n,e,t,o,r),zr[e]=i);var u={},s={};if(a){var d=yt.store._state,f=i.connectedState;c.forEach(function(e){f[e]=d[e],s[e]=Vr[e],u[e]=1}),i.connectedModuleKeyMapping=a,i.connectedModule=u,i.connectedComputed=s}}(v,f,e,o,l,y,_),function(e,t){var n=Z(Pr,e);if(!0===jr[e]&&1<=n.length)throw Error("module["+e+"] is declared as single, only on ccClassKey can been registered to it, and now a ccClassKey["+n[0]+"] has been registered!");n.includes(t)||n.push(t)}(e,v),{_module:e,_connect:d,_watchedKeys:l,_ccClassKey:v}}var Gr=yt.event_handlers_,Yr=yt.handlerKey_handler_,Xr=yt.ccUKey_handlerKeys_,Jr=yt.ccUKey_ref_,Qr=function(e,t,n){return e+"$"+t+"$"+n},Zr=Z,eo=Y;function to(e,t,n,r,o){void 0===o&&(o=null);var a=Gr[e];if(a){var c=a;return r?c=a.filter(function(e){return e.ccUniqueKey===r}):n?c=a.filter(function(e){return e.ccClassKey===n}):t&&(c=a.filter(function(e){return e.module===t})),void 0!==o&&(c=c.filter(function(e){return e.identity===o})),c}return[]}function no(e){var o={},r=[];e.forEach(function(e){var t=e.ccUniqueKey,n=e.event;delete Yr[e.handlerKey],o[t]=1,r.includes(n)||r.push(n)}),r.forEach(function(e){var r=Gr[e];r&&(r.forEach(function(e,t){var n=e.ccUniqueKey;1===o[n]&&(r[t]=null,delete Xr[n])}),Gr[e]=r.filter(function(e){return null!==e}))})}function ro(e,t,n,r,o,a){var c=Zr(Gr,r);if("function"!=typeof a)return eo("event "+r+"'s handler is not a function!");var i=Qr(n,r,o),u=Zr(Xr,n),s=c.findIndex(function(e){return e.handlerKey===i}),d={event:r,module:e,ccClassKey:t,ccUniqueKey:n,identity:o,handlerKey:i,fn:a};-1<s?c[s]=d:(c.push(d),u.push(i)),Yr[i]=d}function oo(e){for(var t=arguments.length,a=Array(1<t?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];var r,o,c,i,u=null,s=null;"string"==typeof e?r=e:(r=e.name,u=e.identity,o=e.module,c=e.ccClassKey,i=e.ccUniqueKey,s=e.canPerform),to(r,o,c,i,u).forEach(function(e){var t=e.handlerKey,n=Jr[e.ccUniqueKey];if(n&&t){if(n.__$$isUnmounted)return;var r=Yr[t];if(r){if(s&&!s(n))return;var o=r.fn;n.__$$isMounted?o.apply(void 0,a):n.ctx.__$$onEvents.push({fn:o,args:a})}}})}function ao(e,t){no(to(e,t.module,t.ccClassKey,t.ccUniqueKey,t.identity))}function co(e){var t=Xr[e];if(t){var n=[];t.forEach(function(e){return n.push(Yr[e])}),no(n)}}function io(e){if(e&&"object"==typeof e){var t;if(Array.isArray(e))t={name:e[0],identity:e[1]};else t=Object.assign({},e);return t}return{name:e}}var uo=Object.freeze({bindEventHandlerToCcContext:ro,findEventHandlersToPerform:oo,findEventHandlersToOff:ao,offEventHandlersByCcUniqueKey:co,getEventItem:io});function so(n,e,r,o){return new Proxy(e,{get:function(e,t){return je(n,r,t,o),e[t]},set:function(e,t,n){return e[t]=n,!0}})}var fo=1;function lo(c,i){return void 0===i&&(i=!1),function(e,t,n,r,o){var a=o||fo++;Vt(Ke,{type:"computed",isLazyComputed:i,refCtx:c,sort:a,stateKeys:c.stateKeys,retKeyFns:c.computedRetKeyFns,module:c.module,connect:c.connect,dep:c.computedDep},e,t,n,r)}}var po=Y,yo=N;function _o(e){return e?e.props||e:{}}var vo=yt.store.getState;var mo=function(e,t,n){var r=n.module,o=n.state,a=!1,c="",i="",u="",s=null,d=-1,f=!1,l=e[ve],p=e.type,y=!1;if(void 0!==l){var _,v,m;if(d=e.delay,i=e.rkey,a="int"===p,f="bool"===p,(c=l).includes("/")){var h=c.split("/");_=h[1],v=c,m=h[0]}else v=r+"/"+(_=c),m=r;var C=vo(m);u="bool"===p?!xe(m!==r?C:o,_):function(e){var t=ae(e);return t?t.currentTarget.value:e}(t);var K=e.val;if(void 0===K);else if("function"==typeof K){var g=K(u,_,{module:m,moduleState:C,fullKeyPath:v,state:o,refCtx:n});if(null!=g)if("as"===p)u=g;else{var S=typeof g;"boolean"==S?y=!g:"object"==S?(y=!0,s=g):Y("syncKey["+l+"] cb result type error.")}else"as"===p&&(y=!0)}else u=K}else{var E=ae(t);if(!E)return null;var $=E.currentTarget;u=$.value;var w=$.dataset;if(a="int"===p||void 0!==w.ccint,!(c=w.ccsync))return null;i=w.ccrkey;var b=w.ccdelay;if(b)try{d=parseInt(b)}catch(e){}}return{currentTarget:{value:u,extraState:s,noAutoExtract:y,dataset:{ccsync:c,ccint:a,ccdelay:d,ccrkey:i}},isToggleBool:f}};var ho=function(e,t,n,r,o){var a=t;!0!==n||Number.isNaN(a=parseInt(t))&&(Y(t+" can not convert to int but you set ccint as true!！"),a=t);var c=null,i=[];if(e.includes("/")){var u=e.split("/"),s=u[1];c=u[0],i=s.includes(".")?s.split("."):[s]}else i=e.includes(".")?e.split("."):[e];if(1===i.length){var d,f,l=i[0];return!0!==o?{module:c,state:(d={},d[l]=a,d)}:{module:c,state:(f={},f[l]=!r[l],f)}}var p,y=i[0],_=i.slice(1),v=r[y];return function e(t,n,r,o,a,c){void 0===c&&(c=!1);var i=n[o];if(r===o)if(!0===c){var u=t[i];"boolean"!=typeof u?Y("key["+i+"]'s value type is not boolean"):t[i]=!u}else t[i]=a;else e(t[i],n,r,++o,a,c)}(v,_,_.length-1,0,a,o),{module:c,state:(p={},p[y]=v,p)}},Co=yt.store.getState;function Ko(e,t,n){var r=t.ctx,o=r.module,a=mo(e,n,r);if(a){var c=a.currentTarget,i=c.dataset,u=c.value,s=c.extraState,d=c.noAutoExtract;n&&n.stopPropagation&&n.stopPropagation();var f=i.ccsync,l=i.ccint,p=i.ccdelay,y=i.ccrkey;if(f.startsWith("/")&&(i.ccsync=""+o+f),f.includes("/")){var _=f.split("/")[0];wt(_,!1);var v=r.ccKey,m=r.ccUniqueKey;if(d)return void(s&&Qn(s,{calledBy:K,ccKey:v,ccUniqueKey:m,module:_,renderKey:y,delay:p},t));var h=_!==o?Co(_):t.state;Qn(ho(f,u,l,h,a.isToggleBool).state,{calledBy:K,ccKey:v,ccUniqueKey:m,module:_,renderKey:y,delay:p},t)}else{if(d)return void(s&&t.setState(s,null,y,p));var C=ho(f,u,l,t.state,a.isToggleBool);t.setState(C.state,null,y,p)}}}var go=yt.reducer,So=go._module_fnNames_,Eo=go._caller,$o=yt.refStore,wo=yt.ccClassKey_ccClassContext_,bo=yt.moduleName_stateKeys_,xo=yt.store.getState,Uo=yt.moduleName_ccClassKeys_,Do=oe,Oo=b,No=M,Io=Z,Ao=Q,Mo=Y,To=$,Ro=0;var Wo=function(){},ko=function(e){return"type of defineEffect "+e+" param must be"},Lo=function(e){return"-"===e.watchedKeys?Do(e.__$$renderStatus===h?e.__$$compareWaKeys:e.__$$curWaKeys):e.watchedKeys},Fo=function(t,e){function n(e){return Do(t.__$$renderStatus===h?t.__$$compareConnWaKeys[e]:t.__$$curConnWaKeys[e])}function r(e){if(c)return n(e);var t=o[e];return"*"===t?bo[e]:"-"===t?n(e):t}var o=t.connect,a=t.connectedModules,c=Array.isArray(o);if(e)return r(e);var i={};return a.forEach(function(e){return i[e]=r(e)}),i};function Po(t,n,e){("*"===e?bo[n]:e).forEach(function(e){return function(e,t,n){Ne(De,Ie(e,t),n)}(n,e,t)})}function jo(c,e,t){var n;void 0===t&&(t=5);var r=e.isSingle,o=e.ccClassKey,a=e.ccKey,i=void 0===a?"":a,u=e.module,s=e.type,d=e.state,f=e.storedKeys,l=void 0===f?[]:f,p=e.persistStoredKeys,y=void 0!==p&&p,_=e.watchedKeys,v=e.connect,m=void 0===v?{}:v,h=e.tag,C=void 0===h?"":h,K=e.ccOption,g=void 0===K?{}:K,S=u,E=c.ctx,$=To(E),w=bo[S],b=c.setState,x=c.forceUpdate;!$&&E.ccUniqueKey?(b=E.__boundSetState,x=E.__boundForceUpdate):s!==_e&&(b=c.setState.bind(c),x=c.forceUpdate.bind(c));var U={};U.persistStoredKeys=void 0===g.persistStoredKeys?y:g.persistStoredKeys,U.tag=g.tag||C;var D=function(e,t,n,r){var o;if(e)n&&po("now the ccClass is singleton, you needn't supply ccKey to instance props, cc will ignore the ccKey["+n+"]"),o=t;else if(n)o=yo(t,n);else{var a=Pt(r);o=yo(t,a)}return o}(r,o,i,U.tag);if(U.renderKey=g.renderKey||D,U.storedKeys=function(e,t,n,r){var o=n||r;return o?"*"===o?Object.keys(e).filter(function(e){return!t.includes(e)}):(bt(t,o),o):[]}(d,w,g.storedKeys,l),i&&!o)throw Error("missing ccClassKey while init a cc ins with ccKey["+i+"]");if(0<U.storedKeys.length&&!i)throw Oo(ge.CC_STORED_KEYS_NEED_CCKEY,No("ccClassKey["+o+"]"));var O=xo(u),N=$o._state[D]||{},I=Object.assign({},d,N,O),A=Do(c.state=I),M=wo[o].connectedState,T=Do(m),R={},W={};T.forEach(function(e){return W[e]=Be(c,e,!1)});var k,L=Be(c,u),F=Be(c,ye),P=so(c,xo(ye),ye,!1),j=we(Do(d),w);k=S===ye?P:so(c,O,u,!0);var z=Io(Uo,u);z.includes(o)||z.push(o);function V(e,t){Qn(e,t,c)}function q(e,t,n,r,o,a){V(t,{calledBy:n,module:e,renderKey:o,delay:a,reactCallback:r})}function H(e,t,n,r,o){q(e,t,he,n,r,o)}function B(e,t,n,r,o){"string"==typeof e?H(e,t,n,r,o):q(S,e,me,t,n,r)}function G(e,t,n){q(S,c.state,Ce,e,t,n)}var Y=[],X=[],J={effectItems:Y,eid_effectReturnCb_:{},effectPropsItems:X,eid_effectPropsReturnCb_:{}},Q={},Z=_o(c.props),ee=((n={type:s,isSingle:r,module:u,ccClassKey:o,ccKey:i,ccUniqueKey:D,renderCount:1,initTime:Date.now(),watchedKeys:_,privStateKeys:j,connect:m,connectedModules:T,__$$onEvents:[],__$$hasModuleState:0<w.length,__$$renderStatus:Se,__$$curWaKeys:{},__$$compareWaKeys:{},__$$compareWaKeyCount:0,__$$nextCompareWaKeys:{},__$$nextCompareWaKeyCount:0,__$$curConnWaKeys:{},__$$compareConnWaKeys:{},__$$compareConnWaKeyCount:{},__$$nextCompareConnWaKeys:{},__$$nextCompareConnWaKeyCount:{},__$$staticWaKeys:{},__$$staticWaKeyList:[],persistStoredKeys:U.persistStoredKeys,storedKeys:U.storedKeys,renderKey:U.renderKey,tag:U.tag,prevProps:Z,props:Z,mapped:{},prevState:I,state:I,moduleState:k,mstate:O,globalState:P,connectedState:R,extra:{},staticExtra:{},refComputed:{},refComputedValue:{},refComputedOri:{},moduleComputed:L,globalComputed:F,connectedComputed:W,moduleReducer:{},connectedReducer:{},reducer:{}}).mapped={},n.stateKeys=A,n.computedDep={},n.computedRetKeyFns={},n.watchDep={},n.watchRetKeyFns={},n.execute=null,n.effectMeta=J,n.retKey_fnUid_={},n.reactSetState=Wo,n.__boundSetState=b,n.reactForceUpdate=Wo,n.__boundForceUpdate=x,n.setState=B,n.setModuleState=H,n.forceUpdate=G,n.changeState=V,n.refs=Q,n.useRef=function(t){return function(e){return Q[t]={current:e}}},n.__$$ccSetState=mr(c),n.__$$ccForceUpdate=hr(c),n.__$$settedList=[],n.__$$prevMoStateVer={},n);c.setState=B,c.forceUpdate=G,ee.initState=function(e){return c.__$$isMounted?Mo("ctx.initState can only been called before first render period!"):$e(d)?(c.state=Object.assign({},d,e,N,k),void(ee.prevState=ee.state=c.state)):Mo("state "+Ee)};var te=gr(c,!1,!1,S);if(ee.dispatch=te,1<t&&(ee.lazyDispatch=gr(c,!0,!1,S),ee.silentDispatch=gr(c,!1,!0,S),ee.dispatchLazy=ee.lazyDispatch,ee.dispatchSilent=ee.silentDispatch,ee.invoke=Cr(c),ee.lazyInvoke=Cr(c,{isLazy:!0}),ee.silentInvoke=Cr(c,{isLazy:!1,isSilent:!0}),ee.invokeLazy=ee.lazyInvoke,ee.invokeSilent=ee.silentInvoke,ee.setGlobalState=function(e,t,n,r){q(ye,e,me,t,n,r)}),2<t){var ne=function(e,t,n,r,o){var a;if("string"==typeof e)return Ko.bind(null,((a={})[ve]=e,a.type=o,a.val=t,a.delay=r,a.rkey=n,a),c);Ko({type:"val"},c,e)};ee.sync=function(e,t,n,r){return void 0===n&&(n=""),void 0===r&&(r=-1),ne(e,t,n,r,"val")},ee.syncBool=function(e,t,n,r){return void 0===n&&(n=""),void 0===r&&(r=-1),ne(e,t,n,r,"bool")},ee.syncInt=function(e,t,n,r){return void 0===n&&(n=""),void 0===r&&(r=-1),ne(e,t,n,r,"int")},ee.syncAs=function(e,t,n,r){return void 0===n&&(n=""),void 0===r&&(r=-1),ne(e,t,n,r,"as")},ee.set=function(e,t,n,r){var o;void 0===n&&(n=""),void 0===r&&(r=-1),Ko(((o={})[ve]=e,o.type="val",o.val=t,o.delay=r,o.rkey=n,o),c)},ee.setBool=function(e,t,n){var r;void 0===t&&(t=""),void 0===n&&(n=-1),Ko(((r={})[ve]=e,r.type="bool",r.delay=n,r.rkey=t,r),c)}}if(3<t&&(ee.emit=function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];oo.apply(uo,[io(e)].concat(n))},ee.off=function(e,t){var n=void 0===t?{}:t,r=n.module,o=n.ccClassKey,a=n.ccUniqueKey,c=void 0===a?D:a,i=io(e);ao(i.name,{module:r,ccClassKey:o,ccUniqueKey:c,identity:i.identity})},ee.on=function(e,t){var n=io(e),r=n.identity;ro(S,o,D,n.name,void 0===r?null:r,t)}),4<t){ee.execute=function(e){return ee.execute=e},ee.watch=function(a){return function(e,t,n,r,o){Vt(Ke,{type:"watch",refCtx:a,stateKeys:a.stateKeys,retKeyFns:a.watchRetKeyFns,module:a.module,connect:a.connect,dep:a.watchDep},e,t,n,r,o)}}(ee),ee.computed=lo(ee),ee.lazyComputed=lo(ee,!0);var re=function(u,s){return function(e,t,n,r){if(void 0===n&&(n=!0),void 0===r&&(r=!0),"function"!=typeof e)throw Error(ko("first")+" function");var o=t,a=s?n:r;if(null!=t&&!Array.isArray(t))throw Error(ko("second")+" one of them(array, null, undefined)");var c=null;!s&&o&&(c=[],o.forEach(function(e){var t;if(e.includes("/")){var n=(t=e).split("/");if(!ee.connect[n[0]])throw Oo(ge.CC_MODULE_NOT_CONNECTED,No("depKey["+e+"]"))}else t=S+"/"+e;c.push(t),ee.__$$staticWaKeys[t]=1}));var i={fn:e,isProp:s,depKeys:o,modDepKeys:c,eId:Symbol("__autoGen_"+ ++Ro+"__"),compare:n,immediate:a};u.push(i)}};ee.effect=re(Y,!1),ee.effectProps=re(X,!0)}var oe=ee.moduleReducer,ae=ee.connectedReducer,ce=ee.__$$curConnWaKeys,ie=ee.__$$compareConnWaKeys,ue=ee.__$$compareConnWaKeyCount,se=ee.__$$nextCompareConnWaKeys,de=ee.__$$nextCompareConnWaKeyCount,fe=T.slice();fe.includes(u)?Mo("["+D+"]'s module["+u+"] is in belongTo and connect both, it will cause redundant render."):fe.push(u);var le=!1;if(fe.forEach(function(o){var e;e=o===u?oe:Ao(ae,o);var t=m[o];if(t){var n=M[o];"-"===t?(le=!0,ce[o]={},ie[o]={},ue[o]=0,se[o]={},de[o]=0,n=o===ye?ee.globalState:so(c,n,o)):Po(D,o,t),R[o]=n}(So[o]||[]).forEach(function(r){e[r]=function(e,t,n){return te(o+"/"+r,e,t,n)}})}),ee.reducer=Eo,"-"===_?le=!0:Po(D,u,_),ee.__$$autoWatch=le,ee.getWatchedKeys=function(){return Lo(c.ctx||ee)},ee.getConnectWatchedKeys=function(e){return Fo(c.ctx||ee,e)},$)c.ctx=ee;else{var pe=c.ctx;Object.assign(c.ctx,ee,{__$$curWaKeys:pe.__$$curWaKeys,__$$compareWaKeys:pe.__$$compareWaKeys,__$$compareWaKeyCount:pe.__$$compareWaKeyCount,__$$nextCompareWaKeys:pe.__$$nextCompareWaKeys,__$$nextCompareWaKeyCount:pe.__$$nextCompareWaKeyCount,__$$curConnWaKeys:pe.__$$curConnWaKeys,__$$compareConnWaKeys:pe.__$$compareConnWaKeys,__$$compareConnWaKeyCount:pe.__$$compareConnWaKeyCount,__$$nextCompareConnWaKeys:pe.__$$nextCompareConnWaKeys,__$$nextCompareConnWaKeyCount:pe.__$$nextCompareConnWaKeyCount})}}var zo=yt.store.getState;var Vo=oe,qo=yt.runtimeVar;function Ho(n,e,t){var r=n.ctx;if(n.__$$isUnmounted=!1,r.__$$inBM=!(n.__$$isMounted=!1),e){if("function"!=typeof e)throw Error("type of setup must be function");var o=e(r)||{};if(!$e(o))throw Error("type of setup return result must be an plain json object");(!0===t||!0===qo.bindCtxToMethod&&!1!==t)&&Vo(o).forEach(function(e){var t=o[e];"function"==typeof t&&(o[e]=t.bind(n,r))}),r.settings=o}r.refComputedValue=Yt(r.computedRetKeyFns,r.refComputedOri),r.refComputed=Be(n,null,!0,!0),function(o){function e(r){r(o,c,i,i,u,!0,!0),a.forEach(function(e){var t=zo(e),n=pe(e);r(o,e,t,t,n,!0,!0)})}var t=o.ctx,n=t.hasComputedFn,r=t.hasWatchFn,a=t.connectedModules,c=t.module,i=t.state,u=pe(c);n&&e(Sn),r&&e(gn)}(n),r.__$$inBM=!1}var Bo=yt.moduleName_stateKeys_,Go=yt.store,Yo=Go.getPrevState,Xo=Go.getState,Jo=Go.getStateVer,Qo=function(e,t){return Y("effect: key["+e+"] is invalid, its "+t+" has not been declared in' store!")};function Zo(e,t){function n(a,c,i){return function(e){var t=e.fn,n=e.eId;if(!i||!1!==e.immediate){var r=a[n];r&&r(u);var o=t(u,c);a[n]=o}}}var u=e.ctx,r=u.effectMeta,o=r.effectItems,a=r.eid_effectReturnCb_,c=r.effectPropsItems,i=r.eid_effectPropsReturnCb_,m=u.__$$prevMoStateVer,h=u.__$$settedList,C=u.module;if(t)o.forEach(n(a,!0,!0)),c.forEach(n(i,!0,!0));else{var K=u.prevState,g=e.state,S=[];o.forEach(function(e){var t=e.modDepKeys,n=e.compare,r=e.fn,o=e.eId;if(t){var a=t.length;if(0===a)return;for(var c=function(e){return e.reduce(function(t,e){var n=e.module;return e.keys.forEach(function(e){return t[n+"/"+e]=1}),t},{})}(h),i=!1,u=0;u<a;u++){var s=t[u];if(n){var d=void 0,f=void 0,l=s.split("/"),p=l[0],y=l[1];if(p!==C){var _=Yo(p),v=Jo(p);if(m[y]===v[y])continue;if(m[y]=v[y],!_){Qo(s,"module["+p+"]");continue}if(!Bo[p].includes(y)){Qo(s,"unmoduledKey["+y+"]");continue}d=Xo(p),f=_}else d=g,f=K;if(f[y]!==d[y]){i=!0;break}}else if(c[s]){i=!0;break}}i&&S.push({fn:r,eId:o})}else S.push({fn:r,eId:o})}),S.forEach(n(a,!1,!1));var s=u.prevProps,d=u.props,f=[];c.forEach(function(e){var t=e.depKeys,n=e.fn,r=e.eId;if(t){var o=t.length;if(0===o)return;for(var a=!1,c=0;c<o;c++){var i=t[c];if(s[i]!==d[i]){a=!0;break}}a&&f.push({fn:n,eId:r})}else f.push({fn:n,eId:r})}),f.forEach(n(i,!1,!1)),h.length=0}}var ea=Y,ta=b,na=M,ra=B,oa=R,aa=yt.runtimeVar,ca=yt.ccClassKey_ccClassContext_,ia=yt.ccUKey_ref_,ua={};function sa(e,t,n,r){function o(){ia[e]=t,n.push(e)}!function(e){void 0===ua[e]?ua[e]=1:ua[e]+=1}(e),r?setTimeout(o,r):o()}function da(e,t,n,r,o){var a=ca[n],c=a.ccKeys;aa.isDebug&&console.log(ra("register ccKey "+o+" to CC_CONTEXT"),oa());var i=yt.isHotReloadMode();if(c.includes(o)){var u=function(){throw ta(ge.CC_CLASS_INSTANCE_KEY_DUPLICATE,na("ccClass:"+n+",ccKey:"+o))};if(i){var s=function(e){return void 0===ua[e]?0:ua[e]}(o);if(t&&0<s)throw ta(ge.CC_CLASS_INSTANCE_MORE_THAN_ONE,na("ccClass:"+n));1<s&&u(),ea("\n        found ccKey["+r+"] duplicated in hot reload mode, please make sure your ccKey is unique manually,\n        "+na("ccClassKey:"+n+" ccKey:"+r+" ccUniqueKey:"+o)+"\n      "),sa(o,e,c,600)}else u()}else sa(o,e,c);return a}function fa(t,e,n,r){var o=!1,a=oe(t);a.forEach(function(e){2===t[e]&&(o=!0,Me(n,e,r))}),e<a.length&&(o=!0),o&&Ot(n)}function la(e){var t=e.ctx;if(t.__$$renderStatus=Se,t.__$$autoWatch){var n=t.connectedModules,r=t.connect,o=t.ccUniqueKey,a=t.__$$compareConnWaKeys,c=t.__$$compareConnWaKeyCount;fa(t.__$$compareWaKeys,t.__$$compareWaKeyCount,t.module,o),n.forEach(function(e){"-"===r[e]&&fa(a[e],c[e],e,o)})}}function pa(e){la(e),e.__$$isMounted=!0,e.__$$isUnmounted=!1;var t=e.ctx,n=t.ccUniqueKey,r=t.__$$onEvents,o=t.__$$staticWaKeys;da(e,t.isSingle,t.ccClassKey,t.ccKey,n);var a=oe(o);(e.ctx.__$$staticWaKeyList=a).forEach(function(e){return function(e,t){Ne(Oe,e,t)}(e,n)}),0<r.length&&(r.forEach(function(e){return e.fn.apply(void 0,e.args)}),r.length=0),Zo(e,!0)}function ya(e){la(e),Zo(e),e.ctx.prevState=e.state}var _a=yt.ccUKey_ref_,va=yt.ccUKey_handlerKeys_,ma=yt.runtimeVar,ha=yt.ccClassKey_ccClassContext_,Ca=yt.handlerKey_handler_;function Ka(e,t){ma.isDebug&&console.log(B(t+" unset ref"),R("purple")),delete _a[t];var n=ha[e].ccKeys,r=n.indexOf(t);r<0||n.splice(r,1),function(e){void 0===ua[e]?ua[e]=0:ua[e]-=1}(t);var o=va[t];o&&o.forEach(function(e){delete Ca[e]})}var ga=oe;function Sa(n,r){function e(e){var t=n[e];"function"==typeof t&&t(r)}Object.getOwnPropertySymbols(n).forEach(e),ga(n).forEach(e)}function Ea(e){e.__$$isUnmounted=!0;var t=e.ctx,n=t.ccUniqueKey,r=t.ccClassKey,o=t.module,a=t.__$$staticWaKeyList;if(e.__$$isMounted){var c=t.effectMeta,i=c.eid_effectPropsReturnCb_;Sa(c.eid_effectReturnCb_,t),Sa(i,t),co(n)}t.getWatchedKeys().forEach(function(e){return Me(o,e,n)});var u=t.getConnectWatchedKeys();oe(u).map(function(t){u[t].forEach(function(e){return Me(t,e,n)})}),a.forEach(function(e){return function(e,t){try{delete Oe[e][t]}catch(e){}}(e,n)}),Ka(r,n)}function $a(e){var t=e.ctx;if(t.__$$renderStatus=h,t.__$$autoWatch){t.__$$hasModuleState&&(Object.assign(e.state,t.mstate),e.state=so(e,e.state,t.module,!0),t.state=e.state,t.__$$curWaKeys={},t.__$$compareWaKeys=t.__$$nextCompareWaKeys,t.__$$compareWaKeyCount=t.__$$nextCompareWaKeyCount,t.__$$nextCompareWaKeys={},t.__$$nextCompareWaKeyCount=0);var n=t.connect;t.connectedModules.forEach(function(e){"-"===n[e]&&(t.__$$curConnWaKeys[e]={},t.__$$compareConnWaKeys[e]=t.__$$nextCompareConnWaKeys[e],t.__$$compareConnWaKeyCount[e]=t.__$$nextCompareConnWaKeyCount[e],t.__$$nextCompareConnWaKeys[e]={},t.__$$nextCompareConnWaKeyCount[e]=0)})}}var wa=function(e){return"CC("+e+")"},ba=Ue,xa=ie,Ua=be,Da=yt.runtimeVar,Oa=R,Na=B,Ia=function(e){return Error("can not defined setup both in register options and class body --verbose:"+e)};function Aa(e,t){var n=void 0===e?{}:e,r=n.module,o=void 0===r?j:r,a=n.state,u=void 0===a?{}:a,c=n.watchedKeys,s=void 0===c?"-":c,i=n.storedKeys,d=void 0===i?[]:i,f=n.setup,l=void 0===f?null:f,p=n.persistStoredKeys,y=n.connect,_=void 0===y?{}:y,v=n.tag,m=n.lite,h=n.isPropsProxy,C=void 0!==h&&h,K=n.isSingle,g=void 0!==K&&K,S=n.renderKeyClasses,E=n.__checkStartUp,$=void 0===E||E,w=n.compareProps,b=void 0===w||w,x=n.__calledBy;void 0===t&&(t="");try{var U=Br(o,t,S,A,ba(s),d,_,$,x),D=U._module,O=U._ccClassKey,N=U._connect;return function(n){if(n.prototype&&n.prototype.$$attach)throw Error("register a cc class is prohibited!");var e=!1===C?n:I.Component,i=e.$$setup,t=function(c){function e(e,t){var n;try{n=c.call(this,e,t)||this;var r=Ua(u),o=Object.assign(n.state||{},r);n.$$attach=n.$$attach.bind(Or(n));var a=Object.assign({},e,{isSingle:g,module:D,tag:v,state:o,type:A,watchedKeys:s,ccClassKey:O,connect:N,storedKeys:d,persistStoredKeys:p});if(jo(Or(n),a,m),n.ctx.reactSetState=Er(Or(n)),n.ctx.reactForceUpdate=$r(Or(n)),l&&(n.$$setup||i))throw Ia("ccUniqueKey "+n.ctx.ccUniqueKey);C||(n.$$setup&&(n.$$setup=n.$$setup.bind(Or(n))),Ho(Or(n),l||n.$$setup||i,!1))}catch(e){un(e)}return n}Dr(e,c);var t=e.prototype;return t.shouldComponentUpdate=function(e,t){var n=this.ctx.childRef;if(n&&n.shouldComponentUpdate)return n.shouldComponentUpdate(e,t);if(c.prototype.shouldComponentUpdate)return c.prototype.shouldComponentUpdate.call(this,e,t);var r=!!b&&xa(this.props,e);return this.state!==t||r},t.$$attach=function(e){var t=this.ctx;if(((t.childRef=e).ctx=t).reactSetState=e.setState.bind(e),t.reactForceUpdate=e.forceUpdate.bind(e),e.setState=t.setState,e.forceUpdate=t.forceUpdate,t.__$$ccSetState=mr(e,this),t.__$$ccForceUpdate=hr(e),e.state||(e.state={}),Object.assign(e.state,this.state),$a(e),e.$$setup&&(e.$$setup=e.$$setup.bind(e)),l&&(e.$$setup||i))throw Ia("ccUniqueKey "+t.ccUniqueKey);Ho(e,l||e.$$setup||i,!1)},t.componentDidMount=function(){c.prototype.componentDidMount&&c.prototype.componentDidMount.call(this),pa(this)},t.componentDidUpdate=function(){c.prototype.componentDidUpdate&&c.prototype.componentDidUpdate.call(this),ya(this)},t.componentWillUnmount=function(){c.prototype.componentWillUnmount&&c.prototype.componentWillUnmount.call(this),Ea(this)},t.render=function(){return this.ctx.prevProps=this.ctx.props,this.ctx.props=this.props,Da.isDebug&&console.log(Na("@@@ render "+wa(O)),Oa()),!1===C?($a(this),c.prototype.render.call(this)):I.createElement(n,{ctx:this.ctx,$$attach:this.$$attach})},e}(e);return t.displayName=O===q?"CcDispatcher":wa(O),t}}catch(e){un(e)}}function Ma(e){var t=function(e){function t(){return e.apply(this,arguments)||this}return Dr(t,e),t.prototype.render=function(){return this.props.children||I.createElement("span",{style:{display:"none"}})},t}(I.Component);if(yt.refs[q]){if(!yt.isHotReloadMode())throw Error("CcDispatcher can only be initialize one time");X("hot reload mode, CC_DISPATCHER existed")}var n=e||t;return Aa({isSingle:!0,__checkStartUp:!1,__calledBy:"cc"},q)(n)}var Ta=$e,Ra=oe;function Wa(e,t){if(!Ta(e))throw Error(t+" "+Ee)}function ka(e){if(!Ta(e))throw Error("StartupOption.moduleSingleClass "+Ee);!function(t,n){Object.keys(n).forEach(function(e){t[e]=n[e]})}(yt.moduleSingleClass,e)}function La(e){if(0<e.length){var o=yt.plugins;o.length=0,rn.forEach(function(e){return on[e].length=0});var a={};e.forEach(function(e){if(o.push(e),!e.install)throw Error("a plugin must export install handler!");var t=e.install(cn),n=Error("plugin.install must return result:{name:string, options?:object}");if(!t)throw n;var r=t.name;if(!r)throw n;if(a[r])throw Error("pluginName["+r+"] duplicate");a[r]=1}),yt.pluginNameMap=a}}var Fa=function(e){var t=document.querySelector("#"+c);if(!t){(t=document.createElement("div")).id=c;var n=t.style;n.position="fixed",n.left=0,n.top=0,n.display="none",n.zIndex=-888666,document.body.appendChild(t)}r.render(I.createElement(e),t)},Pa=!1;function ja(e,r){void 0===e&&(e=!1),Ye={},Xe={},re(yt.event_handlers_),re(yt.ccUKey_handlerKeys_);var o=yt.ccClassKey_ccClassContext_,t=yt.ccUKey_ref_;if(Object.keys(o).forEach(function(e){var t=o[e],n=[];0<r.length&&t.ccKeys.forEach(function(e){r.includes(e)&&n.push(e)}),re(t.ccKeys,n)}),re(yt.handlerKey_handler_),re(t,[q].concat(r)),e){var n=yt.computed,a=yt.watch,c=n._computedValue,i=a._watchDep;oe(yt.store._state).forEach(function(e){e!==z&&(c[e]&&(yt.computed._computedDep[e]={retKey_fn_:{},retKey_lazy_:{},stateKey_retKeys_:{},retKey_stateKeys_:{},fnCount:0},Qt(e,n._computedRaw[e])),i[e]&&(i[e]={retKey_fn_:{},retKey_lazy_:{},stateKey_retKeys_:{},retKey_stateKeys_:{},fnCount:0},nn(e,a._watchRaw[e])))})}}function za(){var n=yt.ccUKey_ref_,r=[];return oe(n).forEach(function(e){var t=n[e];t&&t.ctx.type===x&&!0!==t.props.__$$regDumb&&!0===t.__$$isMounted&&0==t.__$$isUnmounted&&r.push(e)}),r}function Va(){re(yt.globalStateKeys);var e=oe(yt.moduleName_isConfigured_).concat([j,z,ye,a]);re(yt.reducer._reducer,e),re(yt.store._state,e,{}),re(yt.computed._computedDep,e),re(yt.computed._computedValue,e),re(yt.watch._watchDep,e),re(yt.middlewares),re(yt.waKey_uKeyMap_),Te={module:{computed:{},watch:{}},ref:{computed:{},watch:{},effect:{}}};var t=za();return ja(!1,t),t}function qa(e){void 0===e&&(e=!1),yt.info.latestStartupTime=Date.now();var t=[];return yt.isStartup?yt.isHotReloadMode()?e?(console.warn("attention: make sure [[clearContextIfHot]] been called before app rendered!"),Pa=!0,t=Va()):(Pa?Pa=!1:(function(){if(!yt.refs[q]){var e=Ma();Fa(e)}}(),t=za(),ja(yt.reComputed,t)),t):(console.warn("clear failed because of not running under hot reload mode!"),t):(Pa=!0,t)}var Ha=ue,Ba=be;function Ga(e){var t=e.props,n=Ha(t.register),r=n.module,o=n.renderKeyClasses,a=n.tag,c=n.lite,i=n.compareProps,u=void 0===i||i,s=n.setup,d=n.bindCtxToMethod,f=n.watchedKeys,l=void 0===f?"-":f,p=n.connect,y=void 0===p?{}:p,_=n.isSingle,v=n.storedKeys,m=void 0===v?[]:v,h=Ba(n.state),C=t.ccClassKey,K=t.ccKey,g=t.ccOption,S=void 0===g?{}:g,E=l,$=C,w=y;if(!0!==t.__$$regDumb){var b=Br(r,C,o,x,Ue(l),m,y,!0);E=l,$=b._ccClassKey,w=b._connect}jo(e,{isSingle:_,ccKey:K,connect:w,state:h,module:r,storedKeys:m,watchedKeys:E,tag:a,ccClassKey:$,ccOption:S,type:x},c),e.ctx.reactSetState=Er(e),e.ctx.reactForceUpdate=$r(e),e.__$$compareProps=u,Ho(e,s,d)}var Ya=X,Xa=ce,Ja="";function Qa(e,t){var n=void 0===e?{}:e,r=n.store,o=void 0===r?{}:r,a=n.reducer,c=void 0===a?{}:a,i=n.init,u=void 0===i?null:i,s=n.computed,d=void 0===s?{}:s,f=n.watch,l=void 0===f?{}:f,p=n.moduleSingleClass,y=void 0===p?{}:p,_=void 0===t?{}:t,v=_.plugins,m=void 0===v?[]:v,h=_.middlewares,C=void 0===h?[]:h,K=_.isStrict,g=void 0!==K&&K,S=_.isDebug,E=void 0!==S&&S,$=_.errorHandler,w=void 0===$?null:$,b=_.isHot,x=_.bindCtxToMethod,U=void 0!==x&&x,D=_.computedCompare,O=void 0===D||D,N=_.watchCompare,I=void 0===N||N,A=_.watchImmediate,M=void 0!==A&&A,T=_.reComputed,R=void 0===T||T;try{throw Error()}catch(e){var W=function(e){function t(e,t){for(var n=0;n<o;n++)if(r[n].includes(e)){a=r[n+t];break}}var n=yt.info,r=e.stack.split("\n"),o=r.length,a="";function c(){return qa(yt.isHot=!0)}t("startup",2),a||t("runConcent",0);var i=Date.now(),u=[],s=!0;if(Ja)if(Ja!==a){var d="invalid run api call!(it can only be called once, changing 'call run' line location in HMR will cause this error also, \n    try refresh browser to reload your app to avoid this tip)";if(i-n.latestStartupTime<1e3)throw Error(d);le()?(u=c(),Ja=a):(J(d),s=!1)}else u=c();else Ja=a,n.firstStartupTime=i,n.latestStartupTime=i;return{canStartup:s,ccFragKeys:u}}(e),k=W.ccFragKeys;if(!W.canStartup)return;try{console.log("%c window.name:"+window.name,"color:green;border:1px solid green"),Ya("cc version "+yt.info.version),void 0!==b&&(yt.isHot=b),yt.reComputed=R,yt.errorHandler=w;var L=yt.runtimeVar;if(L.isStrict=g,L.isDebug=E,L.computedCompare=O,L.watchCompare=I,L.watchImmediate=M,L.bindCtxToMethod=U,!yt.refs[q]){var F=Ma();Fa(F)}ka(y),function(e){Wa(e,"state"),delete e[V],delete e[z],void 0===e[ye]&&(e[ye]={}),void 0===e[j]&&(e[j]={});for(var t=Ra(e),n=t.length,r=0;r<n;r++){var o=t[r];Nt(o,e[o])}}(o),function(t){Wa(t,"reducer"),void 0===t[j]&&(t[j]={}),void 0===t[ye]&&(t[ye]={}),Ra(t).forEach(function(e){return kt(e,t[e])})}(c),function(t){Wa(t,"computed"),Ra(t).forEach(function(e){return Qt(e,t[e])})}(d),function(t){Wa(t,"watch"),Object.keys(t).forEach(function(e){return nn(e,t[e])})}(l),function(n){if(n){if(!Ta(n))throw Error("init "+Ee);Ra(n).forEach(function(t){wt(t,!1);var e=n[t];e&&Promise.resolve().then(e).then(function(e){Sr(t)(e)})}),yt.init._init=n}}(u),function(e){if(0<e.length){var t=yt.middlewares;t.length=0,e.forEach(function(e){return t.push(e)})}}(C);var P=function(e){Xa("CC_CONTEXT",yt,e),Xa("ccc",yt,e),Xa("cccc",yt.computed._computedValue,e),Xa("sss",yt.store._state,e)};window.mcc?setTimeout(function(){P(window.mcc[de()])},1200):P(),yt.isStartup=!0,La(m),k.forEach(function(e){var t=yt.ccUKey_ref_[e];Ea(t),Ga(t),pa(t)})}catch(e){if(!w)throw e;w(e)}}}function Za(e){throw Error("[[run]]: param error, "+e+" "+Ee)}var ec=$e,tc=oe,nc=$,rc=be;function oc(e,t){var n=ue(e);return delete n.__checkStartUp,delete n.__calledBy,Aa(n,t)}var ac=ie,cc=I.createElement("span",{style:{display:"none"}}),ic=function(r){function e(e,t){var n;return Ga(Or(n=r.call(this,e,t)||this)),n}Dr(e,r);var t=e.prototype;return t.componentDidMount=function(){pa(this)},t.shouldComponentUpdate=function(e,t){var n=!!this.__$$compareProps&&ac(_o(e),_o(this.props));return this.state!==t||n},t.componentDidUpdate=function(){ya(this)},t.componentWillUnmount=function(){r.prototype.componentWillUnmount&&r.prototype.componentWillUnmount.call(this),Ea(this)},t.render=function(){var e=this.props;this.ctx.prevProps=this.ctx.props,this.ctx.props=_o(e);var t=e.render,n=t||e.children;if("function"==typeof n){$a(this);var r=e.register,o=void 0===r?{}:r,a=this.ctx;return!0!==e.__$$regDumb&&o.mapProps?(a.mapped=o.mapProps(a)||{},n(a.mapped)||cc):n(a)||cc}if(I.isValidElement(n))throw Error("CcFragment's children can not b a react dom ");return n},e}(I.Component);function uc(e,t){var n=ue(e),r=n.renderKeyClasses,o=n.module,a=n.watchedKeys,c=void 0===a?"-":a,i=n.storedKeys,u=n.render,s=n.connect,d=void 0===s?{}:s,f=Ue(c),l=Br(o,t,r,x,f,i,d,!0),p=l._ccClassKey,y=l._connect;function _(t){return function(e){return n.props=e,function(t,e){var n=e.mapProps,r=e.props,o=void 0===r?{}:r,a={__$$regDumb:!0,props:o,ccOption:o.ccOption,ccClassKey:e.ccClassKey,render:function(e){return n?(e.mapped=n(e),I.createElement(t,e.mapped)):I.createElement(t,e)},ccKey:o.ccKey,register:e};return I.createElement(ic,a)}(t,n)}}return n.module=l._module,n.watchedKeys=c,n.ccClassKey=p,n.connect=y,u?_(u):function(e){return _(e)}}var sc=yt.ccUKey_ref_,dc=1;function fc(e,t,n){this.setState=t,this.forceUpdate=t,this.state=e,this.isFirstRendered=!0,this.props=n}function lc(e,t,n,r,o,a,c,i,u,s){var d=n||be(r),f=o.bindCtxToMethod,l=o.watchedKeys,p=void 0===l?"-":l,y=o.storedKeys,_=void 0===y?[]:y,v=o.connect,m=void 0===v?{}:v,h=o.setup,C=o.lite;dc+=1;var K=Br(o.module,s,o.renderKeyClasses,_e,Ue(p),_,m,!0),g=K._module,S=K._ccClassKey,E=K._connect,$=e||new fc(a,c,i),w=Object.assign({},o,{module:g,watchedKeys:p,state:d,type:_e,ccClassKey:S,connect:E,ccOption:i.ccOption});$.props=i,jo($,w,C),$.ctx.reactSetState=Er($),$.ctx.reactForceUpdate=$r($);var b=$.ctx;return b.props=i,b.extra=u,Ho($,h,f),t.current=$.ctx.ccUniqueKey,b.useRef=function(e){var t=I.useRef(null);return b.refs[e]=t},$}function pc(e,t){e.__boundSetState=t,e.__boundForceUpdate=t}var yc="react version is LTE 16.8";function _c(e,t){var n=ue(e),r=n.state,o=void 0===r?{}:r,a=n.props,c=void 0===a?{}:a,i=n.mapProps,u=n.layoutEffect,s=void 0!==u&&u,d=n.extra,f=void 0===d?{}:d,l=I.useState;if(!l)throw Error(yc);function p(e){return lc(e,g,m,o,n,C,K,c,f,t)}var y,_=dc,v=l(_)[0]===_,m=v?be(o):0,h=l(m),C=h[0],K=h[1],g=I.useRef(null);if(v)y=p();else if(y=sc[g.current]){var S=y.ctx;S.prevProps=S.props,y.props=S.props=c,S.extra=f}else y=p();var E=y.ctx,$=s?I.useLayoutEffect:I.useEffect;if($(function(){y.isFirstRendered||ya(y),pc(E,K)}),$(function(){return!1===y.isFirstRendered?p(y):y.isFirstRendered=!1,pc(E,K),pa(y),function(){Ea(y)}},[]),i){var w=i(E);if(!$e(w))throw Error("mapProps ret "+Ee);E.mapped=w}return $a(y),E}function vc(){throw Error("api doc: cc.setState(module:string, state:object, renderKey:string, delayMs?:number, skipMiddleware?:boolean, throwError?:boolean)")}function mc(e){return yt.store.getState(e)}var hc=yt.computed._computedValue;var Cc=yt.ccUKey_ref_,Kc=yt.ccClassKey_ccClassContext_;function gc(){var n=[],r=yt.ccUKey_ref_;return oe(r).forEach(function(e){var t=r[e];t&&!t.__$$isUnmounted&&n.push(t)}),n}function Sc(e,t,n){var r=void 0===n?{}:n,o=r.state,a=r.reducer,c=r.computed,i=r.watch,u=r.init;if(!yt.isStartup)throw Error("cc is not startup yet");$t(e),wt(t,!1);var s=yt.moduleName_stateFn_[t];if(!s)throw Error("target module["+t+"] state must be a function when use cloneModule");var d=s();Object.assign(d,be(o));var f=Ur(yt.reducer._reducer[t]||{},e);a&&Object.assign(f,Ur(a,e));var l=yt.computed._computedRaw[t]||{};c&&Object.assign(l,c);var p=yt.watch._watchRaw[t]||{};i&&Object.assign(p,i);var y=yt.init._init[t];u&&(y=u);var _={state:d,reducer:f,computed:l,watch:p};y&&(_.init=y),xr(e,_)}function Ec(t,e){function r(e,t){var n=t.state,r=t.reducer,o=void 0===r?{}:r,a=t.watch,c=t.computed,i=t.init,u=t.isClassSingle;if(s.store[e])throw Error("run api error: module"+e+" duplicate");s.store[e]=rc(n),"function"==typeof n&&(yt.moduleName_stateFn_[e]=n),s.reducer[e]=o,a&&(s.watch[e]=a),c&&(s.computed[e]=c),i&&(s.init[e]=i),s.moduleSingleClass[e]=!0===u}void 0===t&&(t={}),void 0===e&&(e={}),ec(t)||Za("store"),ec(e)||Za("options");var s={store:{},reducer:{},watch:{},computed:{},init:{},moduleSingleClass:{}};tc(t).forEach(function(e){return r(e,t[e])}),Ct.forEach(function(e){var t=e.module,n=e.config;X("configure pending module["+t+"]"),r(t,n)}),Ct.length=0,nc(s.init)&&(s.init=null),Qa(s,e)}function $c(e,t){return oc({connect:e},t)}function wc(e,t){return uc({connect:e},t)}function bc(e,o){var a=ue(e);function t(n){var e=a.memo,t=void 0===e||e;function r(){return function(e){a.props=e;var t=_c(a,o);return I.createElement(n,a.mapProps?t.mapped:t)}}return delete a.memo,t&&I.memo?I.memo(r()):r()}"function"==typeof a.state&&(a.state=a.state());var n=a.render;return n?t(n):function(e){return t(e)}}function xc(e,t,n,r,o){void 0===o&&(o=!1);try{It().ctx.setGlobalState(e,t,n,r)}catch(e){if(o)throw e;Y(e.message)}}function Uc(e,t,n,r,o,a){void 0===r&&(r=-1),void 0===a&&(a=!1),void 0===e&&void 0===t&&vc(),"string"!=typeof e&&vc(),er(e,t,n,r,o)}function Dc(e,t,n,r){It().ctx.set(e,t,n,r)}function Oc(e,t){if(!e.includes("/"))throw Error("keyPath must start with module");var n=e.split("/"),r=mc(n[0]);return ho(e,t,!1,r,!1).state}function Nc(e){return jc[e].connectedState||{}}function Ic(e){return e?hc[e]:hc}function Ac(e){if(void 0===e)throw Error("api doc: cc.emit(event:string|{name:string, identity?:string, ctx?:boolean}, ...args)");try{for(var t,n=It(),r=arguments.length,o=Array(1<r?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];(t=n.ctx).emit.apply(t,[e].concat(o))}catch(e){Y(e)}}function Mc(e,t){try{It().ctx.off(e,t)}catch(e){if(t.throwError)throw e;Y(e.message)}}function Tc(e){for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(function(e){var n=[],t=Kc[e];return t&&t.ccKeys.forEach(function(e){var t=Cc[e];t&&n.push(t)}),n})(e).forEach(function(e){var t;e.__$$isUnmounted||e.ctx.execute&&(t=e.ctx).execute.apply(t,n)})}function Rc(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];gc().forEach(function(e){var t;e.ctx.execute&&(t=e.ctx).execute.apply(t,n)})}function Wc(e,t,n){return void 0===n&&(n={}),{fn:e,depKeys:t,compare:n.compare,sort:n.sort||oi++,retKeyDep:n.retKeyDep}}function kc(e,t,n){return void 0===n&&(n={}),{fn:e,depKeys:t,lazy:!0,compare:n.compare,sort:n.sort||oi++,retKeyDep:n.retKeyDep}}function Lc(e){return{fn:function(){return e},depKeys:[]}}function Fc(e,t,n){return void 0===n&&(n={}),{fn:e,depKeys:t,immediate:n.immediate,compare:n.compare,sort:n.sort||oi++,retKeyDep:n.retKeyDep}}function Pc(e,t,n){return void 0===n&&(n={}),{fn:e,depKeys:t,immediate:!0,compare:n.compare,sort:n.sort||oi++,retKeyDep:n.retKeyDep}}var jc=yt.ccClassKey_ccClassContext_,zc=oc,Vc=uc,qc=xr,Hc=mc,Bc=yt.store.getGlobalState,Gc=Wt,Yc=yt,Xc=Ma,Jc=gc,Qc=yt.reducer._caller,Zc=qa,ei=ic,ti=u,ni=yt.store.appendState,ri=_c,oi=1e3,ai={cloneModule:Sc,emit:Ac,off:Mc,connect:$c,connectDumb:wc,register:zc,registerDumb:Vc,registerHookComp:bc,configure:qc,dispatch:Gc,run:Ec,setGlobalState:xc,setState:Uc,set:Dc,setValue:Oc,getGlobalState:Bc,getState:Hc,getComputed:Ic,getConnectedState:Nc,ccContext:Yc,createDispatcher:Xc,execute:Tc,executeAll:Rc,getRefs:Jc,reducer:Qc,clearContextIfHot:Zc,CcFragment:ei,cst:ti,appendState:ni,useConcent:ri,bindCcToMcc:ci,defComputed:Wc,defLazyComputed:kc,defComputedVal:Lc,defWatch:Fc,defWatchImmediate:Pc};function ci(e){if(!ui)throw Error("current env is not multi concent ins mode");if(ui[e])throw Error("ccNamespace["+e+"] already existed in window.mcc");!function(e){se=e}(e),ce(e,ai,ui)}function ii(){var e=se?window.mcc[se]:window.cc;if(e&&e.ccContext&&e.ccContext.info){var t=e.ccContext.info.version,n=Yc.info.version;if(t!==n)throw Error("a existed version concent "+t+" is different with current about to import concent "+n+", \n        it may caused by some of your concent-eco-module with older version concent, please reinstall them (concent-*** module)")}}var ui=window.mcc;ui?setTimeout(function(){if(!de())throw Error("detect window.mcc, but user forget call bindCcToMcc in bundle entry");ii()},1e3):(ii(),ce("cc",ai)),e.cloneModule=Sc,e.run=Ec,e.connect=$c,e.connectDumb=wc,e.register=zc,e.registerDumb=Vc,e.registerHookComp=bc,e.configure=qc,e.setGlobalState=xc,e.setState=Uc,e.set=Dc,e.setValue=Oc,e.getState=Hc,e.getGlobalState=Bc,e.getConnectedState=Nc,e.getComputed=Ic,e.emit=Ac,e.off=Mc,e.dispatch=Gc,e.ccContext=Yc,e.createDispatcher=Xc,e.execute=Tc,e.executeAll=Rc,e.getRefs=Jc,e.reducer=Qc,e.clearContextIfHot=Zc,e.CcFragment=ei,e.cst=ti,e.appendState=ni,e.useConcent=ri,e.defComputed=Wc,e.defLazyComputed=kc,e.defComputedVal=Lc,e.defWatch=Fc,e.defWatchImmediate=Pc,e.bindCcToMcc=ci,e.default=ai,Object.defineProperty(e,"__esModule",{value:!0})});
