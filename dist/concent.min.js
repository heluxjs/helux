!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["exports","react","react-dom"],t):t(e.concent={},e.React,e.ReactDOM)}(this,function(e,D,r){"use strict";D=D&&D.hasOwnProperty("default")?D.default:D,r=r&&r.hasOwnProperty("default")?r.default:r;var t,n,o,T={},se="$$global",H="$$default",q="$$cc",V="$$concent_void_module_624313307",a="$$CONCENT_ROUTER",A="$$CcClass",x="$$CcFrag",de="$$CcHook",m="$$Cc",B="$$Dispatcher",c="__cc_dispatcher_container_designed_by_zzk_qq_is_624313307__",fe=Symbol("__for_sync_param_ccsync__"),O=10,U=11,N=13,M="dispatch",le="setState",pe="setModuleState",ye="forceUpdate",b="invoke",K="sync",h="module",ve="ref",k="watch",_e={CC_MODULE_NAME_DUPLICATE:1002,CC_MODULE_NOT_FOUND:1012,CC_DISPATCH_STRING_INVALID:1013,CC_DISPATCH_PARAM_INVALID:1014,CC_MODULE_NOT_CONNECTED:1015,CC_CLASS_KEY_DUPLICATE:1100,CC_CLASS_INSTANCE_KEY_DUPLICATE:1200,CC_CLASS_INSTANCE_MORE_THAN_ONE:1205,CC_STORED_KEYS_NEED_CCKEY:1207,CC_REDUCER_NOT_A_FUNCTION:1503},i=((t={})[_e.CC_MODULE_NAME_DUPLICATE]="module name duplicate!",t[_e.CC_MODULE_NOT_FOUND]="module not found!",t[_e.CC_DISPATCH_STRING_INVALID]="when type param is string, it must be one of these format: (fnName)、(moduleName)/(fnName)",t[_e.CC_DISPATCH_PARAM_INVALID]="dispatch param type is invalid, it must be string or object",t[_e.CC_MODULE_NOT_CONNECTED]="module not been connected by ref",t[_e.CC_CLASS_INSTANCE_KEY_DUPLICATE]="props.ccKey duplicate",t[_e.CC_CLASS_INSTANCE_MORE_THAN_ONE]="ccClass is declared as singleton, trying new another one instance is not allowed! ",t[_e.CC_STORED_KEYS_NEED_CCKEY]="you must explicitly specify a ccKey for ccInstance when set storedKeys!",t[_e.CC_CLASS_KEY_DUPLICATE]="ccClassKey duplicate!",t[_e.CC_REDUCER_NOT_A_FUNCTION]="reducer must be a function!",t),u=Object.freeze({MODULE_GLOBAL:se,MODULE_DEFAULT:H,MODULE_CC:q,MODULE_VOID:V,MODULE_CC_ROUTER:a,CC_CLASS:A,CC_FRAGMENT:x,CC_HOOK:de,CC_PREFIX:m,CC_DISPATCHER:B,CC_DISPATCHER_BOX:c,CCSYNC_KEY:fe,SIG_FN_START:O,SIG_FN_END:U,SIG_FN_QUIT:12,SIG_FN_ERR:N,SIG_MODULE_CONFIGURED:14,SIG_STATE_CHANGED:15,RENDER_NO_OP:1,RENDER_BY_KEY:2,RENDER_BY_STATE:3,FOR_ONE_INS_FIRSTLY:1,FOR_ALL_INS_OF_A_MOD:2,EFFECT_AVAILABLE:1,EFFECT_STOPPED:0,DISPATCH:M,SET_STATE:le,SET_MODULE_STATE:pe,FORCE_UPDATE:ye,INVOKE:b,SYNC:K,CATE_MODULE:h,CATE_REF:ve,FN_CU:"computed",FN_WATCH:k,ERR:_e,ERR_MESSAGE:i,default:{MODULE_GLOBAL:se,MODULE_DEFAULT:H,MODULE_CC:q,ERR:_e,ERR_MESSAGE:i,FOR_ONE_INS_FIRSTLY:1,FOR_ALL_INS_OF_A_MOD:2}}),s=((n={})[se]={},n[H]={},n[q]={},n),d=((o={})[se]={},o[H]={},o[q]={},o),f={},l={},F={_computedValueOri:d,_computedValue:s,_computedRaw:l,_computedDep:f,getRootComputedValue:function(){return s},getRootComputedDep:function(){return f},getRootComputedRaw:function(){return l}},p={},y={},C={_watchRaw:y,_watchDep:p,getRootWatchDep:function(){return p},getRootWatchRaw:function(){return y}},v={alwaysGiveState:!0,isStrict:!1,isDebug:!1,computedCompare:!0,watchCompare:!0,watchImmediate:!1,bindCtxToMethod:!1},_=Symbol("cuk"),g="1",me="2",he="is not a plain json object!",S="should be an string array or *!",E=console.error;function w(e){return null!=e&&0<te(e).length}function $(e){return!w(e)}function Ce(e,t){if(void 0===t&&(t=!1),!e)return!1;var n="object"==typeof e;if(n){var r=Array.isArray(e);return t?r:n&&!r}return!1}function I(e,t){var n="";n="string"==typeof e?e:i[e]||"",t&&(n+=t),n||(n="undefined message for code:"+e);var r=Error(n);return r.code=e,r}function L(e,t,n,r,o,a,c){var i;return(i={})[_]=1,i.needCompute=n,i.fn=r,i.newState=o,i.oldState=a,i.fnCtx=c,i.isLazy=e,i.result=t,i}function R(e,t){return e+"$"+t}function j(e){return e?" --verbose-info: "+e:""}function P(e){return void 0===e&&(e="green"),"color:"+e+";border:1px solid "+e}function z(e){return"%c"+e}var W=function(e){return"------------ CC "+e+" ------------"};function G(e){E(W("WARNING")),e instanceof Error?(E(e.message),E(e.stack)):E(e)}function Y(e){console.log(W("TIP")),console.log("%c"+e,"color:green;border:1px solid green;")}function X(e){if(E(W("WARNING")),E(e),v.isStrict)throw e}function J(e,t,n){void 0===n&&(n={});var r=e[t];return r||(r=e[t]=n),r}function Q(e,t){var n=e[t];return n||(n=e[t]=[]),n}function Z(e){void 0===e&&(e=52);var t=Math.random();return parseInt(t*e)}function ee(t,n,r){if(void 0===n&&(n=[]),Array.isArray(t)){var o=[];n.forEach(function(e){t.includes(e)&&o.push(e)}),t.length=0,o.forEach(function(e){return t.push(e)})}else Object.keys(t).forEach(function(e){n.includes(e)||(r?t[e]=r:delete t[e])})}function te(e){return Object.keys(e)}function ne(e){var t=null;return e&&(e.currentTarget&&e.type?t=e:e.nativeEvent&&e.target&&(e.currentTarget=e.target,t=e)),t}function re(t,n,e){function r(e){e?e[t]=n:window[t]=n}window?r(e):setTimeout(function(){r(e)},3e3)}function oe(e,t){for(var n in e)if(!(n in t))return!0;for(var r in t)if(e[r]!==t[r])return!0;return!1}function Ke(e,t){var n=[];return e.forEach(function(e){t.includes(e)||n.push(e)}),n}function ae(e){return void 0===e&&(e={}),"string"==typeof e?{module:e}:Object.assign({module:H},e)}var ce="";function ie(){return ce}function ue(){var t=null;return{commit:function(e){t||(t={}),Object.assign(t,e)},getFnCommittedState:function(){return t}}}function ge(){var e=!1;return!window||("previewFrame"===window.name||window.__SANDBOX_DATA__||window.BrowserFS)&&(e=!0),e}function Se(e){return{payload:null,renderKey:"",delay:-1,module:e,fnName:""}}function Ee(e){void 0===e&&(e={});var t="function"==typeof e?e():e;if(!Ce(t))throw Error("state "+he);return t}function we(e,t){var n=t.split(".");return function e(t,n,r,o){var a=n[o];return r===o?t[a]:e(t[a],n,r,++o)}(e,n,n.length-1,0)}function be(e){return"-"===e?"*":e}var $e={module:{computed:{},watch:{}},ref:{computed:{},watch:{},effect:{}}};function xe(e,t,n){var r=t[e];return{retKey:e,fn:r.fn,depKeys:r.depKeys,isLazy:n}}function Oe(e,t,n,r,o,a,c,i){var u=r[o],s=[];if(!u)return{pickedFns:s,setted:[],changed:[]};var d=u.retKey_fn_,f=u.retKey_lazy_,l=u.stateKey_retKeys_,p=u.fnCount;if(e){var y=te(d),v=te(c),_=v;return"computed"===n?{pickedFns:y.map(function(e){return xe(e,d,f[e])}),setted:v,changed:_}:(y.forEach(function(e){var t=d[e];t.immediate&&s.push({retKey:e,fn:t.fn,depKeys:t.depKeys})}),{pickedFns:s,setted:v,changed:_})}var m=function(n,r){var o=[],a=[];return te(r).forEach(function(e){var t=r[e];void 0!==t&&(a.push(e),t!==n[e]&&o.push(e))}),{changed:o,setted:a}}(a,c),h=m.setted,C=m.changed;if(0===h.length)return{pickedFns:s,setted:[],changed:[]};var K=h.join(",")+"|"+C.join(",")+"|"+o,g=$e[t][n],S=i?J(g,i):g,E=S[K];return E?{pickedFns:E.map(function(e){return xe(e,d,f[e])}),setted:h,changed:C}:(function(u,o,s,d,a,f,l){if(0===o.length)return;var e=a["*"];if(e){var c=0<s.length;e.forEach(function(e){var t=d[e],n=t.fn,r=t.compare,o=t.depKeys,a={retKey:e,fn:n,depKeys:o,isLazy:f[e]};r?c&&u.push(a):u.push(a)})}u.length<l&&function(){var i={},e=o.length,t=function(e){var c=o[e],t=a[c];return t?(t.forEach(function(e){if(!i[e]){var t=d[e],n=t.fn,r=t.compare,o=t.depKeys,a=!0;r&&!s.includes(c)&&(a=!1),a&&(i[e]=!0,u.push({retKey:e,fn:n,depKeys:o,isLazy:f[e]}))}}),u.length===l?"break":void 0):"continue"};e:for(var n=0;n<e;n++){var r=t(n);switch(r){case"continue":continue;case"break":break e}}}()}(s,h,C,d,l,f,p),S[K]=s.map(function(e){return e.retKey}),{pickedFns:s,setted:h,changed:C})}function Ue(e,t,n){var r=t[n];return void 0!==r&&(e[n]=r,!0)}function Ne(t,n,e,r){void 0===n&&(n=[]),void 0===e&&(e=!1),void 0===r&&(r=!1);var o={},a=[];if(!Ce(t))return{partialState:e?null:o,isStateEmpty:!0,ignoredStateKeys:a};var c=!0,i=te(t);return i.length<n.length?i.forEach(function(e){n.includes(e)?Ue(o,t,e)&&(c=!1):r&&a.push(e)}):(n.forEach(function(e){Ue(o,t,e)&&(c=!1)}),r&&(a=Ke(i,n))),c&&e&&(o=null),{partialState:o,isStateEmpty:c,ignoredStateKeys:a}}function Ie(e,t,n,r){if(v.alwaysGiveState)return[n,r];var o=t[0];return 1===t.length&&"*"!==o&&o===e?[n[o],r[o]]:[n,r]}function De(e,t,n,r,o,a){var c=Ie(e,t,r,o);return n(c[0],c[1],a)}for(var Ae,Re=function(g,S,E,w,b,e,$,x,O,U,N,I,D){for(var A=0,R=e,M=!0,t=function(){var e=b(R,1===++A&&U),t=e.pickedFns,u=e.setted,s=e.changed;if(!t.length)return"break";var n=ue(),d=n.commit,r=n.getFnCommittedState,o=ue(),f=o.commit,a=o.getFnCommittedState;if(t.forEach(function(e){var t=e.retKey,n=e.fn,r=e.depKeys,o=e.isLazy,a={retKey:t,callInfo:O,isFirstCall:U,commit:d,commitCu:f,setted:u,changed:s,stateModule:S,refModule:E,oldState:w,committedState:R,refCtx:g};if("computed"===N)if(o){delete a.commit,delete a.commitCu;var c=Ie(t,r,$,w);D[t]=L(o,null,!0,n,c[0],c[1],a)}else{var i=De(t,r,n,$,w,a);D[t]=L(!1,i)}else!1===De(t,r,n,$,w,a)&&(M=!1)}),R=r()){var c=function(e,t){void 0===t&&(t=!1),R=e,t&&0===te(e).length?R=null:(Object.assign($,R),Object.assign(x,R))},i=Ne(R,"ref"===I?g.privStateKeys:T[S],!0,!0),l=i.partialState,p=i.ignoredStateKeys;if(l)if(N===k){var y=(I===ve?g.computedDep[g.module]||{}:F._computedDep[S]||{}).stateKey_retKeys_;if(y){var v=[],_={};te(l).forEach(function(e){y[e]?v.push(e):_[e]=l[e]}),0<v.length&&G("these state keys["+v.join(",")+"] will been ignored, cause they are also appeared in computed depKeys,\n              cc suggest you move the logic to computed file."),c(_,!0)}else c(l)}else c(l);if(p.length){var m="they are not "+(I===ve?"private":"module")+", fn is "+I+" "+N;G("these state keys["+p.join(",")+"] are invalid, "+m)}}var h=a();if(h){var C;if("ref"===I)C="computed"===N?g.computedRetKeyFns:g.watchRetKeyFns;else{var K=F.getRootComputedDep()[S]||{};C=K.retKey_fn_||null}C&&te(h).forEach(function(e){C[e]?D[e]=L(!1,h[e]):G("fnCtx.commitCu commit an invalid retKey["+e+"] for moduleComputed")})}if(10<A)throw Error("fnCtx.commit may goes endless loop, please check your code")};R;){if("break"===t())break}return M},Me=F._computedValue,Te=te,ke={},Fe=function(n,e,t){var r=void 0===t?{}:t,o=r.refCtx,a=void 0===o?null:o,c=r.callInfo,i=void 0===c?{}:c,u=Le(n),s=je(n),d=Me[n],f=F.getRootComputedDep(),l=C.getRootWatchDep(),p=a?a.module:null,y=Object.assign({},u,e),v=Object.assign({},e),_=v;return Re(a,n,p,u,function(e,t){return Oe(t,h,"computed",f,n,u,e)},_,y,v,i,!1,"computed",h,d),Re(a,n,p,u,function(e,t){return Oe(t,h,"watch",l,n,u,e)},_,y,v,i,!1,"watch",h,d),Te(v).forEach(function(e){s[e]=u[e],Pe(n,e),u[e]=v[e]}),v},Le=function(e){return We[e]},je=function(e){return He[e]},Pe=function(e,t){qe[e][t]++},ze=function(){var e;return(e={})[q]={},e[V]={},e[se]={},e[H]={},e},We=ze(),He=ze(),qe={},Ve={getDispatcher:function(){return ke[B]},isHotReloadMode:function(){return!!Ve.isHot||window&&(window.webpackHotUpdate||ge())},runtimeVar:v,isHot:!1,reComputed:!0,isStartup:!1,moduleSingleClass:{},moduleName_stateFn_:{},moduleName_ccClassKeys_:{},moduleName_stateKeys_:T,moduleName_isConfigured_:{},ccClassKey_ccClassContext_:{},globalStateKeys:[],store:{appendState:function(e,t){var n=Q(T,e);te(t).forEach(function(e){n.includes(e)||n.push(e)}),Ve.store.setState(e,t)},_state:We,_prevState:He,_stateVer:qe,getState:function(e){return e?Le(e):We},getPrevState:function(e){return e?je(e):He},getStateVer:function(e){return e?qe[e]:qe},setState:function(e,t,n){return Fe(e,t,n)},setGlobalState:function(e){return Fe(se,e)},getGlobalState:function(){return We[se]}},reducer:{_reducer:(Ae={},Ae[se]={},Ae[q]={},Ae),_caller:{},_fnName_fullFnNames_:{},_module_fnNames_:{}},computed:F,watch:C,refStore:{_state:{},setState:function(e,t){var n=Ve.refStore._state,r=Object.assign({},n[e],t);n[e]=r}},init:{_init:{}},ccUKey_ref_:ke,event_handlers_:{},ccUKey_handlerKeys_:{},handlerKey_handler_:{},module_ccUKeys_:{},refs:ke,info:{packageLoadTime:Date.now(),firstStartupTime:"",latestStartupTime:"",version:"2.1.5",author:"fantasticsoul",emails:["624313307@qq.com","zhongzhengkai@gmail.com"],tag:"destiny"},fragmentNameCount:0,featureStr_classKey_:{},userClassKey_featureStr_:{},errorHandler:null,middlewares:[],plugins:[]},Be=localStorage.length,Ge=Ve.refStore._state,Ye=0;Ye<Be;Ye++){var Xe=localStorage.key(Ye);if(Xe.startsWith("CCSS_"))try{Ge[Xe.substr(5)]=JSON.parse(localStorage.getItem(Xe))}catch(e){console.error(e)}}var Je=[],Qe=function(e){return e.toLowerCase()===q},Ze=function(e){return/^[\$\#\&a-zA-Z0-9_-]+$/.test(e)},et=j,tt=I;function nt(e){if(!Ze(e))throw Error("module["+e+"] writing is invalid!");if(Qe(e))throw Error("'$$cc' is a built-in module name for concent")}function rt(e,t,n){void 0===t&&(t=!0),void 0===n&&(n="");var r=n||"module["+e+"]",o=Ve.store._state;if(nt(e),e!==se)if(t){if(w(o[e]))throw tt(_e.CC_MODULE_NAME_DUPLICATE,et(r))}else if(!o[e])throw tt(_e.CC_MODULE_NOT_FOUND,et(r))}function ot(t,e){var n=Array.isArray(e);if(!n&&"*"!==e)throw Error("storedKeys type err, "+S);n&&e.forEach(function(e){if(t.includes(e))throw Error("the item["+e+"] of storedKeys is not a module state key!")})}var at={},ct=function(e,t,n){if(e.code!==_e.CC_MODULE_NAME_DUPLICATE||!Ve.isHotReloadMode())throw e;var r=function(e){e||(e="");for(var t=e.split("\n"),n=t.length,o="",a=0;a<n;a++)if(t[a].includes(".checkModuleNameAndState")){!function(){var e=t[a+3].split(":"),n=e.length-1,r=[];e.forEach(function(e,t){t!==n&&r.push(e)}),o=r.join(":")}();break}return o}(e.stack),o=n+"|--link--|"+t,a=at[o];if(a){if(r!==a)throw e}else at[o]=r},it={};function ut(e){it[e]={}}function st(e,t,n){it[e][t]=n}function dt(t,e,n){void 0===n&&(n=!0),ut(t);var r=t===V?{}:e;try{!function(e,t,n){if(rt(e,n),!Ce(t))throw Error("module["+e+"]'s state "+he)}(t,r,n)}catch(e){ct(e,t,"state")}var o=Ve.store,a=o.getState(),c=o.getStateVer();o.getPrevState()[t]=Object.assign({},a[t]=r),c[t]=te(r).reduce(function(e,t){return e[t]=1,e},{});var i=Object.keys(r);if(Ve.moduleName_stateKeys_[t]=i,Ve.module_ccUKeys_[t]={ver:1,keys:[]},t===se){var u=Ve.globalStateKeys;i.forEach(function(e){u.includes(e)||u.push(e)})}}function ft(e,t){void 0===t&&(t=!1);var n=Ve.ccUKey_ref_,r=Ve.moduleName_ccClassKeys_,o=Ve.ccClassKey_ccClassContext_,a=[];if(e){if(!Ve.store._state[e])throw Error("module["+e+"] is not declared in store");var c=r[e];if(c&&0!==c.length){var i=c[0],u=o[i];if(!u)throw Error("no ccClassContext found for ccClassKey "+i+"!");a=u.ccKeys}if(e===H&&(a=a.filter(function(e){return!e.startsWith(x)})),0===a.length){if(!1!==t){throw Error("[[pickOneRef]]: no ref found for module["+e+"]!,if this message doesn't matter, you can ignore it")}a=[B]}}else a=[B];var s=n[a[0]];if(!s)throw Error("cc found no ref!");return s}var lt=R,pt=G,yt=function(){return Promise.resolve()};function vt(e,t,n,r,o){void 0===n&&(n="");var a=void 0===o?{}:o,c=a.ccClassKey,i=a.ccKey,u=a.throwError,s=a.refModule,d=void 0===s?"":s;if(void 0===e&&void 0===t)throw Error("params type error");var f,l="",p="";try{if(c&&i){var y=lt(c,i),v=Ve.refs[y];if(!v)return pt("no ref found for ccUniqueKey:"+y+"!"),yt();f=v.ctx.dispatch}else{if("string"==typeof e)if(e.includes("/")){var _=e.split("/");l=_[0],p=_[1]}else p=e;var m;if(!(m=l&&"*"!==l?ft(l):d?ft(d):ft()))return pt("no ref found"),yt();f=m.ctx.dispatch}if("*"!==l)return f(e,t,n,r);var h=Ve.reducer._fnName_fullFnNames_[p];if(!h)return;var C=[];return h.forEach(function(e){C.push(f(e,t,n,r))}),Promise.all(C)}catch(e){if(u)throw e;return pt(e.message),yt()}}function _t(e,t,n,r,o){return vt(e,t,n,r,o)}function mt(a,e){void 0===e&&(e={});var t="module["+a+"] reducer";if(!Ce(e))throw Error(t+" "+he);rt(a,!1,t+" is invalid");var n=Ve.reducer,r=n._reducer,o=n._caller,c=n._fnName_fullFnNames_,i=n._module_fnNames_,u=Object.assign({},e);r[a]=u;var s=J(o,a),d=Q(i,a);u.setState||(u.setState=function(e){return e}),te(u).forEach(function(e){d.includes(e)||d.push(e);var r=a+"/"+e,t=Q(c,e);t.includes(r)||t.push(r),s[e]=function(e,t,n){return _t(r,e,t,n)};var o=u[e];if("function"!=typeof o)throw Error("reducer key["+e+"] 's value is not a function");var n=o;o.__fnName&&(u[e]=n=function(e,t,n){return o(e,t,n)}),n.__fnName=e,n.__stateModule=a,n.__ctName=o.__ctName||o.constructor.name})}var ht=0,Ct=["a","A","b","B","c","C","d","D","e","E","f","F","g","G","h","H","i","I","j","J","k","K","l","L","m","M","n","N","o","O","p","P","q","Q","r","R","s","S","t","T","u","U","v","V","w","W","x","X","y","Y","z","Z"];function Kt(e){return ht++,(e||function(e){void 0===e&&(e=6);for(var t="",n=0;n<e;n++)t+=Ct[Z()];return t}())+"_"+ht}var gt=Ve.moduleName_stateKeys_,St=Ve.runtimeVar;function Et(e,t,n,r,o,a,c){var i=t.refCtx,u=t.type;if(e!==ve||i.__$$isBSe){if(n){var s,d,f,l=typeof n;if("string"==l)s=Ce(r)?((d={})[n]=r,d):((f={})[n]={fn:r,depKeys:o,compare:a,immediate:c},f);else if(Ce(n))s=n;else if("function"==l&&!Ce(s=n(i)))throw Error("type of "+u+" callback result must be an object");s?function(x,O,U){var e=St.computedCompare,t=St.watchCompare,N=St.watchImmediate,I="computed"===O.type?e:t,D=O.module;te(U).forEach(function(c){var e=U[c],t=typeof e,n=e;if("function"==t&&(n={fn:e}),Ce(n)){var r=n,o=r.fn,a=r.depKeys,i=r.immediate,u=void 0===i?N:i,s=r.compare,d=void 0===s?I:s,f=r.lazy,l=Kt("mark");if("*"===a){var p=$t(O,D,c),y=p.isStateKey,v=p.stateKey;if(!y)throw Error("retKey["+c+"] is not a state key of module["+D+"]");wt(x,O,l,v),bt(x,O,D,v,o,a,u,d,f)}else{if(a&&!Array.isArray(a))throw Error("depKeys must an string array or *");if(a&&0!==a.length){var _="",m=c;if(c.includes("/")){var h=c.split("/"),C=h[0],K=h[1];_=C,m=K}wt(x,O,l,m);var g={};a.forEach(function(e){var t=$t(O,D,e),n=t.isStateKey,r=t.stateKey,o=t.module;if(_&&o!==_)throw Error("including slash both in retKey["+c+"] and depKey["+e+"] founded, but their module is different");var a=Q(g,o);if(!n)throw Error("depKey["+e+"] invalid, module["+o+"] doesn't include its stateKey["+r+"]");a.push(r)}),te(g).forEach(function(e){bt(x,O,e,m,o,g[e],u,d,f)})}else{var S=$t(O,D,c),E=S.isStateKey,w=S.stateKey,b=S.module,$=[];!a&&E&&($=[w]),wt(x,O,l,w),bt(x,O,b,w,o,$,u,d,f)}}}else G("retKey["+c+"] item type error")})}(e,t,s):G(e+" "+u+" param type error")}}else G(e+" "+u+" must be been called in setup block")}function wt(e,t,n,r){if(e===ve){var o=t.refCtx,a=o.retKey_fnUid_,c=t.type,i=c+"_"+r;if(a[i])throw Error("ccUKey["+o.ccUniqueKey+"], retKey["+r+"] duplicate in ref "+c);a[i]=n}}function bt(e,t,n,r,o,a,c,i,u){var s=J(t.dep,n,{retKey_fn_:{},retKey_lazy_:{},stateKey_retKeys_:{},fnCount:0}),d=s.retKey_fn_,f=s.stateKey_retKeys_,l=s.retKey_lazy_,p={fn:o,immediate:c,compare:i,depKeys:a};d[r]?e!==ve&&(d[r]=p,l[r]=t.isLazyComputed||u):(d[r]=p,l[r]=t.isLazyComputed||u,s.fnCount++);var y=a;"*"===a&&(y=["*"]),e===ve&&(t.retKeyFns[r]=d[r]);var v=t.refCtx;v&&("computed"===t.type?v.hasComputedFn=!0:v.hasWatchFn=!0),y.forEach(function(e){var t=Q(f,e);t.includes(r)||t.push(r)})}function $t(e,t,n){var r,o=t,a=n;if(n.includes("/")){var c=n.split("/"),i=c[0];i&&(o=i),a=c[1]}if(o===e.module)r=e.stateKeys;else{if(!(r=gt[o]))throw I(_e.CC_MODULE_NOT_FOUND,j("module["+o+"]"));if(!e.connect[o])throw I(_e.CC_MODULE_NOT_CONNECTED,j("module["+o+"], stateKey["+a+"]"))}return{isStateKey:r.includes(a),stateKey:a,module:o}}function xt(e,o){var t={};return te(e).forEach(function(r){o[r]=L(),Object.defineProperty(t,r,{get:function(){var e=o[r]||{},t=e.isLazy;if(!t)return e.result;if(t&&e.needCompute){var n=(0,e.fn)(e.newState,e.oldState,e.fnCtx);e.result=n,e.needCompute=!1}return e.result},set:function(e){var t=o[r];e[_]?e.isLazy?(t.isLazy=!0,t.needCompute=!0,t.newState=e.newState,t.oldState=e.oldState,t.fn=e.fn,t.fnCtx=e.fnCtx):(t.isLazy=!1,t.result=e.result):G("computed value can not been changed manually")}})}),t}var Ot=J,Ut=Ce;function Nt(n,e){if(e){var t="module["+n+"] computed";if(!Ut(e))throw Error(t+" "+he);rt(n,!1,t+" is invalid");var r=Ve.computed,o=Ve.store.getState(),a=r.getRootComputedValue(),c=r.getRootComputedDep();r.getRootComputedRaw()[n]=e;var i=o[n];Et(h,{module:n,stateKeys:te(i),dep:c},e);var u=Ve.getDispatcher(),s=Object.assign({},i),d=Ot(r._computedValueOri,n);a[n]=xt(e,d);var f=a[n];Re(u&&u.ctx,n,u&&u.ctx.module,i,function(e,t){return Oe(t,h,"computed",c,n,i,e)},i,i,s,Se(n),!0,"computed",h,f)}}var It=Ce,Dt=J,At=te;function Rt(n,e,t){if(void 0===t&&(t=!1),e){var r="module["+n+"] watch";if(!It(e))throw Error(r+" "+he);rt(n,!1,r+" is invalid");var o=Ve.watch.getRootWatchDep(),a=Ve.watch.getRootWatchRaw(),c=Ve.computed.getRootComputedValue();if(t){var i=a[n];i?Object.assign(i,e):a[n]=e}else a[n]=e;var u=(0,Ve.store.getState)(n);Et(h,{module:n,stateKeys:At(u),dep:o},e);var s=Ve.getDispatcher(),d=Object.assign({},u),f=Dt(c,n);Re(s&&s.ctx,n,s&&s.ctx.module,u,function(e,t){return Oe(t,h,"watch",o,n,u,e)},u,u,d,Se(n),!0,"watch",h,f)}}var Mt=[O,U,12,N,14,15],Tt={};function kt(t,n){Tt[t].forEach(function(e){e({sig:t,payload:n})})}function Ft(e,t){function n(e,t){var n=Tt[e];n?n.push(t):console.warn("invalid sig["+e+"]")}Array.isArray(e)?e.forEach(function(e){n(e,t)}):n(e,t)}Mt.forEach(function(e){return Tt[e]=[]});var Lt=function(e){if(!Ve.errorHandler)throw e;Ve.errorHandler(e)},jt=0,Pt={},zt={},Wt={},Ht={};function qt(){return++jt}function Vt(e,t,n,r){if(n){var o=r[e];o||(o=r[e]={});var a=o[t];a?Object.assign(a,n):o[t]=n}}function Bt(e,t,n){Vt(e,t,n,Pt)}function Gt(e,t,n){return Bt(e,t,n),function(e){var t=function(e){return Pt[e]}(e),n=[];return te(t).forEach(function(e){n.push({module:e,state:t[e]})}),n}(e)}function Yt(e){delete Pt[e]}var Xt={},Jt=function(e,t,n){void 0===n&&(n=1e3);var r=Xt[t];r&&clearTimeout(r),Xt[t]=setTimeout(function(){delete Xt[t],e()},n)};function Qt(e,n,r,t,o,a,c){if(void 0===c&&(c=!1),!e.hasWatchFn)return!0;var i=Object.assign({},t),u=e.watchDep,s=e.module,d=e.ccUniqueKey,f=e.refComputed,l=Object.assign({},r,t),p=Re(e,n,s,r,function(e,t){return Oe(t,"ref","watch",u,n,r,e,d)},t,l,i,o,a,"watch",ve,f);return c&&Object.assign(t,i),p}function Zt(e,n,r,t,o,a,c){void 0===a&&(a=!1),void 0===c&&(c=!1);var i=Object.assign({},t);if(!e.hasComputedFn)return i;var u=e.computedDep,s=e.module,d=e.refComputed,f=e.ccUniqueKey,l=Object.assign({},r,t);return Re(e,n,s,r,function(e,t){return Oe(t,ve,"computed",u,n,r,e,f)},t,l,i,o,a,"computed",ve,d),c&&Object.assign(t,i),i}var en=te,tn=Ve.ccUKey_ref_,nn=Ve.module_ccUKeys_,rn=Ve.moduleName_stateKeys_,on=function(e){return"-"===e.watchedKeys?e.__$$preparedWatchedKeys:e.watchedKeys},an=function(e,t){var n=e.connect;if(Array.isArray(n))return e.__$$preparedModuleWatchedKeys_[t];var r=n[t];return"*"===r?rn[t]:"-"===r?e.__$$preparedModuleWatchedKeys_[t]:r};function cn(o,e,s,d){var t=nn[o],n=t.ver,r=t.keys,a=en(e),c=function(e,t,n,r){return void 0===n&&(n=""),void 0===r&&(r=[]),e+"/"+t.sort().join(",")+"/"+n+"/"+("*"===r?"*":r.sort().join(","))}(o,a,s,d),i=function(e,t){return it[e][t]}(o,c);if(i){if(i.ver===n)return{sharedStateKeys:a,result:i.result};st(o,c,null)}function f(e,t){e?p.push(t):y.push(t)}function u(e,t,n){for(var r=t.length,o=e.ctx,a=o.renderKey,c=o.ccClassKey,i=0;i<r;i++){if(l[t[i]]){if(!s){f(n,e);break}var u=a===s;if("*"===d){if(u){f(n,e);break}}else{if(!d.includes(c)){f(n,e);break}if(u){f(n,e);break}}}}}var l=a.reduce(function(e,t){return e[t]=1,e},{}),p=[],y=[];r.forEach(function(e){var t=tn[e];if(t){var n=t.ctx,r=!!n.connect[o];n.module===o&&u(t,on(n),!0),r&&u(t,an(n,o),!1)}});var v={belong:p,connect:y};return st(o,c,{ver:n,result:v}),{sharedStateKeys:a,result:v}}var un=Ce,sn=G,dn=w,fn=function(e,t){return e+"/"+Object.keys(t).sort().join("|")},ln=te,pn=1,yn=2,vn=ye,_n=le,mn=pe,hn=b,Cn=K,Kn=15,gn=1,Sn=2,En=3,wn=Ve.store,bn=wn.setState,$n=wn.getPrevState,xn=Ve.middlewares,On=Ve.ccClassKey_ccClassContext_,Un=Ve.refStore,Nn=Ve.moduleName_stateKeys_;function In(e,t,n){var r=void 0===t?{}:t,o=r.module,a=r.skipMiddleware,c=void 0!==a&&a,i=r.payload,u=r.reactCallback,s=r.type,d=r.calledBy,f=void 0===d?_n:d,l=r.fnName,p=void 0===l?"":l,y=r.renderKey,v=void 0===y?"":y,_=r.delay,m=void 0===_?-1:_;if(void 0!==e)if(un(e)){var h=n.ctx,C=h.module,K=h.ccUniqueKey,g=h.ccKey,S=function(e,t){return e===t?pn:yn}(o,C),E={payload:i,renderKey:v,ccKey:g,module:o,fnName:p},w=function(e,t,n){var r=Ne(t,Nn[e],!0).partialState;if(r){var o=bn(e,r,n);return Object.assign(r,o),r}return r}(o,e,{refCtx:S===pn?n.ctx:null,callInfo:E});Object.assign(e,w),Dn(n,E,v,f,e,S,u,function(e,t){e===gn&&!w||kt(Kn,{committedState:t,sharedState:w,module:o,type:function(e,t){return[vn,_n,mn,hn,Cn].includes(e)?"ccApi/"+e:"dispatch/"+t}(f,s),ccUniqueKey:K,renderKey:v}),w&&function(e,t,n,r,o,a,c){var i=function(){!function(r,e,o,t,a,n){if(!o)return;var c=e.ctx,i=c.ccUniqueKey,u=t===pn,s=cn(a,o,n,On[c.ccClassKey].renderKeyClasses),d=s.sharedStateKeys,f=s.result,l=f.connect;f.belong.forEach(function(e){u&&e.ccUniqueKey===i||Dn(e,r,null,"broadcastState",o,pn)});var p=$n(a);l.forEach(function(e){if(!0!==e.__$$isUnmounted){var t=e.ctx;Zt(t,a,p,o,r);var n=Qt(t,a,p,o,r);t.__$$settedList.push({module:a,keys:d}),n&&(t.__$$reInjectConnObState(),t.__$$ccForceUpdate())}})}(e,t,n,r,o,a)};if(0<c){var u=fn(t.ctx.ccUniqueKey,n);Jt(i,u,c)}else i()}(E,n,w,S,o,v,m)},c,{calledBy:f,type:s,payload:i,renderKey:v,delay:m,ccKey:g,ccUniqueKey:K,committedState:e,refModule:C,module:o,fnName:p,sharedState:w})}else sn("your committed state "+he)}function Dn(e,t,n,r,o,a,c,i,u,s){var d=e.state,f=e.ctx;if(!0===e.__$$isUnmounted||!1===e.__$$isMounted||a!==pn||r!==vn&&!dn(o))return c&&c(d),i&&i(gn,o);var l=f.module,p=f.storedKeys,y=f.ccUniqueKey,v=En;if(n&&(v=Sn,f.renderKey!==n))return i&&i(gn,o);if(0<p.length){var _=Ne(o,p),m=_.partialState;if(!_.isStateEmpty){if(!0===f.persistStoredKeys){var h=Ne(d,p),C=Object.assign({},h.partialState,m);localStorage.setItem("CCSS_"+y,JSON.stringify(C))}Un.setState(y,m)}}function K(){f.__$$settedList.push({module:l,keys:ln(g)}),f.__$$ccSetState(g,c,S)}var g=Zt(f,l,d,o,t),S=Qt(f,l,d,g,t,!1,!0);i?(s.state=g,function(e,n,r){if(!0!==e){var o=xn.length;if(0<o){var a=0;!function e(){if(a===o)r();else{var t=xn[a];a++,"function"==typeof t?t(n,e):(sn("found one middleware is not a function"),e())}}()}else r()}else r()}(u,s,function(){K(),i(v,g)})):K()}function An(e,t,n,r,o){void 0===r&&(r=-1);try{ft(e).ctx.changeState(t,{ccKey:"[[top api:setState]]",module:e,renderKey:n,delay:r,skipMiddleware:o})}catch(e){X(e)}}var Rn=Ve.store.setState,Mn=Ve.globalStateKeys,Tn="note! you are trying set state for global module, but the state you commit include some invalid keys which is not declared in cc's global state, \ncc will ignore them, but if this result is not as you expected, please check your committed global state!";var kn=G,Fn=Ce,Ln=Ve.store,jn=Ln.getState,Pn=Ln.setState,zn=Ve.reducer._reducer,Wn=Ve.computed._computedValue,Hn=I,qn=j;function Vn(e,t){void 0===t&&(t=!0);try{return rt(e,!1,"module["+e+"] is not configured in store"),!0}catch(e){return function(e,t){if(void 0===t&&(t=!0),t)throw e;Yn(e)}(e,t),!1}}function Bn(o,a){return function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e?a(e):o.apply(void 0,n)}}function Gn(e,t,n,r){var o;return!0===e?(function(e){Wt[e]=!0}(o=qt()),r[o]=1):r[o=t||qt()]||(r[o]=1),{_chainId:o,_oriChainId:n||o}}function Yn(e,t){e&&(t?t(e):(kn(e),Ve.errorHandler&&Ve.errorHandler(e)))}function Xn(e,t,n){return function(r,o,a,c){return new Promise(function(e,t){var n=Object.assign(a,{__innerCb:Bn(e,t)});r(o,n,c)}).catch(Lt)}(tr,e,t,n)}function Jn(e,t,n){return Xn(e,{callerRef:t.callerRef,context:!0,module:t.module,calledBy:t.calledBy,fnName:e.name,delay:t.delay,renderKey:t.renderKey,chainId:t.chainId,oriChainId:t.oriChainId,chainId_depth_:t.chainId_depth_,isSilent:t.isSilent},n)}function Qn(a,c){return function(e,t,n){var r=a.ctx;if(c){var o=Object.assign({},r.state,e);c.state=o}n?(r.renderCount+=1,r.reactSetState(e,t)):(Object.assign(a.state,e),r.state=a.state)}}function Zn(n){return function(e){var t=n.ctx;t.renderCount+=1,t.reactForceUpdate(e)}}function er(h,e){var t=void 0===e?{}:e,C=t.chainId,K=t.oriChainId,g=t.isLazy,n=t.delay,S=void 0===n?-1:n,r=t.isSilent,E=void 0!==r&&r,o=t.chainId_depth_,w=void 0===o?{}:o;return function(e,t,n,r){var o=g,a=E,c="",i=null!=r?r:S;if(Fn(n)){var u=n.lazy,s=n.silent,d=n.renderKey,f=n.delay;void 0!==u&&(o=u),void 0!==s&&(a=s),void 0!==d&&(c=d),void 0!==f&&(i=f)}else c=n;var l,p,y=Gn(o,C,K,w),v=typeof e,_={callerRef:h,calledBy:b,module:h.ctx.module,isSilent:a,chainId:y._chainId,oriChainId:y._oriChainId,chainId_depth_:w,delay:i,renderKey:c},m=Error("param type error, correct usage: invoke(userFn:function, ...args:any[]) or invoke(option:[module:string, fn:function], ...args:any[])");if("function"==v)return e.__fnName&&(e.name=e.__fnName),Jn(e,_,t);if("object"!=v)throw m;if(p=Array.isArray(e)?(l=e[1],e[0]):(l=e.fn,e.module),"function"!=typeof l)throw m;return p&&(_.module=p),Jn(l,_,t)}}function tr(l,e,p){var y=e.callerRef,v=y.ctx.module,t=e.module,_=void 0===t?v:t,n=e.context,m=void 0!==n&&n,h=e.__innerCb,C=e.type,K=e.calledBy,g=e.fnName,r=e.delay,S=void 0===r?-1:r,E=e.renderKey,w=e.chainId,b=e.oriChainId,$=e.chainId_depth_,x=e.isSilent;!function(e,t,n,r){var o=n;Vn(e,!1)?(e!==t&&n&&(kn(function(e,t){return"param module["+e+"] must equal current ref's module["+t+"] when pass param reactCallback, or it will never been triggered! "}(e,t)),o=null),r(null,o)):r(Error("inputModule:"+e+" invalid"),null)}(_,v,e.cb,function(e,r){if(e)return Yn(e,h);var o,t=jn(_),n={};if(o=w===b&&1===$[w],m){$[w]=$[w]+1;var a=nr(y,!1,x,_,E,S,w,b,$),c=nr(y,!1,!0,_,E,S,w,b,$),i=nr(y,!0,x,_,E,S,w,b,$),u=er(y,{delay:S,chainId:w,oriChainId:b,chainId_depth_:$}),s=er(y,{isLazy:!0,delay:S,oriChainId:b,chainId_depth_:$}),d=er(y,{isLazy:!1,delay:S,isSilent:!0,oriChainId:b,chainId_depth_:$}),f=function(e){return Ht[e]}(w)||{};n={module:_,callerModule:v,committedStateMap:f,committedState:f[_]||{},invoke:u,lazyInvoke:s,silentInvoke:d,invokeLazy:s,invokeSilent:d,dispatch:a,lazyDispatch:i,silentDispatch:c,dispatchLazy:i,dispatchSilent:c,rootState:jn(),globalState:jn(se),moduleState:t,moduleComputed:Wn[_]||{},setState:function(e){return a("setState",e,{silent:x,renderKey:E,delay:S})},refCtx:y.ctx}}!1===x&&kt(O,{isSourceCall:o,calledBy:K,module:_,chainId:w,fn:l}),new Promise(function(e){return e(l(p,t,n))}).then(function(e){$[w]=$[w]-1;var t=1===$[w];!function(e,t,n){Vt(e,t,n,Ht)}(w,_,e);var n=[];!1===x&&(kt(U,{isSourceCall:o,calledBy:K,module:_,chainId:w,fn:l}),!function(e){return!0===Wt[e]}(w)?n=[{module:_,state:e}]:t?function(e){return!0===zt[e]}(w)||(n=Gt(w,_,e),Yt(w)):Bt(w,_,e)),n.forEach(function(e){e.state&&In(e.state,{renderKey:E,module:e.module,reactCallback:r,type:C,calledBy:K,fnName:g,delay:S,payload:p},y)}),o&&(Yt(w),function(e){delete Ht[e]}(w)),h&&h(null,e)}).catch(function(e){kt(N,{isSourceCall:o,calledBy:K,module:_,chainId:w,fn:l}),Yn(e,h)})})}function nr($,x,O,U,N,I,D,A,R){return void 0===N&&(N=""),void 0===I&&(I=-1),void 0===R&&(R={}),function(e,n,t,r){void 0===e&&(e={});var o=x,a=O,c="",i=r||I;if(Fn(t)){c=N;var u=t.lazy,s=t.silent,d=t.renderKey,f=t.delay;void 0!==u&&(o=u),void 0!==s&&(a=s),void 0!==d&&(c=d),void 0!==f&&(i=f)}else c=t||N;function l(){return er($,{chainId:_,oriChainId:m,isLazy:o,chainId_depth_:R})(e,n,c,i)}var p,y,v=Gn(o,D,A,R),_=v._chainId,m=v._oriChainId,h=typeof e,C=U;if(h&&"object"==h){if(Array.isArray(h))return l();var K=e.module;K&&(C=K),p=e.type,y=e.cb}else{if("string"!=h&&"function"!=h)return Promise.reject(Hn(_e.CC_DISPATCH_PARAM_INVALID));var g=e;if("function"==h){var S=e.__fnName;if(!S)return l();g=S,1==R[m]&&(C=e.__stateModule)}var E=g.split("").filter(function(e){return"/"===e}).length;if(0===E)p=g;else{if(1!==E)return Promise.reject(Hn(_e.CC_DISPATCH_STRING_INVALID,qn(g)));var w=g.split("/"),b=w[0];b&&(C=b),p=w[1]}}return"*"===C?vt("*/"+p,n,{silent:a,lazy:o,renderKey:c},i,{refModule:$.ctx.module}):new Promise(function(e,t){!function(e){var t=void 0===e?{}:e,n=t.callerRef,r=t.module,o=t.renderKey,a=t.isSilent,c=t.type,i=t.payload,u=t.cb,s=t.__innerCb,d=t.delay,f=void 0===d?-1:d,l=t.chainId,p=t.oriChainId,y=t.chainId_depth_,v=zn[r];if(!v)return s(Error("no reducerMap found for module:["+r+"]"));var _=v[c];if(!_)return s(Error("no reducer fn found for ["+r+"/"+c+"], is these fn you want:"+Object.keys(v)));tr(_,{callerRef:n,module:r,type:c,cb:u,context:!0,__innerCb:s,calledBy:M,delay:f,renderKey:o,isSilent:a,chainId:l,oriChainId:p,chainId_depth_:y},i)}({callerRef:$,module:C,type:p,payload:n,cb:y,__innerCb:Bn(e,t),delay:i,renderKey:c,isSilent:a,chainId:_,oriChainId:m,chainId_depth_:R})}).catch(Lt)}}function rr(o){return function(t){try{An(o,t)}catch(e){if(o===se)!function(e,t,n){void 0===t&&(t=""),void 0===n&&(n="");var r=Ne(e,Mn),o=r.partialState,a=r.isStateEmpty,c=te(o),i=te(e);if(c.length<i.length){var u=i.filter(function(e){return!c.includes(e)});G(Tn+",invalid keys: "+u.join(",")+", make sure the keys is invalid and their values are not undefined"),console.log(e),t&&G("module is "+t),n&&G("ccClassKey is "+n)}Rn(se,o)}(t,o);else{var n=jn(o);if(!n)return G("invalid module "+o);var r=Ne(t,te(n));r.isStateEmpty||Pn(o,r.partialState)}Y("no ccInstance found for module["+o+"] currently, cc will just store it, lately ccInstance will pick this state to render")}}}var or=function(o){return function(e,t){var n=o.ctx,r=Object.assign({},o.state,e);n.type===de?(o.state=n.state=r,n.__boundSetState(r),t&&t(r)):(n.state=r,o.__$$isBF?Object.assign(o.state,e):o.state=r,n.__boundSetState(r,t))}},ar=function(r){return function(e){var t=r.ctx;if(t.type===de){var n=Object.assign({},r.state);t.__boundSetState(n),e&&e(n)}else t.__boundForceUpdate(e)}},cr=Ce,ir=Ee;function ur(t,e){if(Ve.isStartup){if(!cr(e))throw Error("param config "+he);if(t===se)throw Error("configuring global module is not allowed");var n=e.reducer,r=e.computed,o=e.watch,a=e.init,c=e.isClassSingle,i=ir(e.state);if(n&&!cr(n))throw Error("config.reducer "+he);if(dt(t,i,!0),mt(t,n),r&&Nt(t,r),o&&Rt(t,o),Ve.moduleSingleClass[t]=!0===c,a){if("function"!=typeof a)throw Error("init value must be a function!");Promise.resolve().then(a).then(function(e){rr(t)(e)})}Ve.moduleName_isConfigured_[t]=!0,kt(14,t)}else Je.push({module:t,config:e})}function sr(r,o){var a={};return te(r).forEach(function(e){function t(){return n.apply(void 0,arguments)}var n=r[e];t.__fnName=e,t.__stateModule=o,a[e]=t}),a}function dr(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}function fr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var lr=te,pr=Ce,yr=Ve.store._state;var vr=$,_r=I,mr=Ve.featureStr_classKey_,hr=Ve.userClassKey_featureStr_,Cr=Ve.ccClassKey_ccClassContext_,Kr=0;var gr=Ve.moduleName_stateKeys_,Sr=Ve.moduleName_ccClassKeys_,Er=Ve.moduleSingleClass,wr=Ve.ccClassKey_ccClassContext_,br=Ve.computed._computedValue,$r=function(e,t){var n=!1,r=!1;if(!Array.isArray(e))return{duplicate:n,notArray:!0,keyElementNotString:r};if(!Array.isArray(t))return{duplicate:n,notArray:!0,keyElementNotString:r};var o=e.length,a=t.length;e:for(var c=0;c<o;c++){var i=e[c];if("string"!=typeof i){r=!0;break e}for(var u=0;u<a;u++){var s=t[u];if("string"!=typeof s){r=!0;break e}if(s===i){n=!0;break e}}}return{duplicate:n,notArray:!1,keyElementNotString:r}},xr=j;function Or(e,t,n,r,o,a,c,i,u){void 0===e&&(e=H),void 0===a&&(a=[]),!0===i&&function(){if(!0!==Ve.isStartup)throw Error("you must startup cc by call startup method before register ReactClass to cc!")}();var s="cc"===u;rt(e,!1,"module["+e+"] is not configured in store"),ot(gr[e],a);var d=c;Array.isArray(c)&&(d={},c.forEach(function(e){return d[e]="-"}));var f,l=function(e,t,n){if(!n)return[];if("*"===n)return gr[e];var r=$r(n,[]);if(r.notArray||r.keyElementNotString)throw Error("watchedKeys "+S+" "+xr("ccClassKey:"+t));return n}(e,t,o),p=function(o,e,t,a){if(!pr(o))throw Error("CcFragment or CcClass's prop connect type error, it "+he);function c(e){return i+" module["+e+"]'s value must be * or array of string"}var i="CcFragment or CcClass's prop connect is invalid,",n=lr(o);n.sort();var u=[],s={};if(n.forEach(function(t){var n=yr[t],r=a+"_"+t+"/";if(void 0===n)throw Error(i+" module["+t+"] not found in cc store ");var e=o[t];if("string"==typeof e){if("*"!==e&&"-"!==e)throw Error(c(t));u.push(r+"*"),lr(n).forEach(function(e){return s[t+"/"+e]=e})}else{if(!Array.isArray(e))throw Error(c(t));e.forEach(function(e){if(!n.hasOwnProperty(e))throw Error(i+" module["+t+"]'s key["+e+"] not declared in cc store ");r+=e+",",s[t+"/"+e]=e}),u.push(r)}}),u.push("|"),"*"===e)u.push(a+"_$"+t+"/*");else{e.sort();var r=t+"/"+e.join(",");u.push(r)}return{featureStr:u.join("@"),connectedModuleKeyMapping:s,connectedModuleNames:n}}(d,l),y=p.connectedModuleKeyMapping,v=p.connectedModuleNames,_=function(e,t,n,r,o,a,c){if(void 0===c&&(c=""),!c){if(t===H&&vr(n)&&0===r.length)return o+"0";var i=o+":"+a,u=mr[i];return u||(mr[i]=u=""+o+ ++Kr)}if(c.startsWith(m))throw Error("user can not specify a classKey["+c+"] starts with $$Cc");if(!e&&c.toLowerCase()==B.toLowerCase())throw Error(B+" is cc built-in ccClassKey name, if you want to customize your dispatcher, \n      you can set autoCreateDispatcher=false in StartupOption, and use createDispatcher then.");if(Cr[c]){if(hr[c]!==a)throw _r(_e.CC_CLASS_KEY_DUPLICATE,"ccClassKey:["+c+"] duplicate")}else hr[c]=a;return c}(s,e,d,l,r,p.featureStr,t);if(n){if(!Array.isArray(n)&&"*"!==n)throw Error("renderKeyClasses type err, it is must be an array or string *");f=n}else f=[_];return function(e,t,n,r,o,a,c){var i=wr[e];i||(i=function(e,t,n,r,o){return{module:e,ccClassKey:t,renderKeyClasses:n,originalWatchedKeys:o,watchedKeys:r,ccKeys:[],connectedState:{},connectedModuleKeyMapping:null,connectedModule:{}}}(n,e,t,o,r),wr[e]=i);var u={},s={};if(a){var d=Ve.store._state,f=i.connectedState;c.forEach(function(e){f[e]=d[e],s[e]=br[e],u[e]=1}),i.connectedModuleKeyMapping=a,i.connectedModule=u,i.connectedComputed=s}}(_,f,e,o,l,y,v),function(e,t){var n=Q(Sr,e);if(!0===Er[e]&&1<=n.length)throw Error("module["+e+"] is declared as single, only on ccClassKey can been registered to it, and now a ccClassKey["+n[0]+"] has been registered!");n.includes(t)||n.push(t)}(e,_),{_module:e,_connect:d,_watchedKeys:l,_ccClassKey:_}}var Ur=Ve.event_handlers_,Nr=Ve.handlerKey_handler_,Ir=Ve.ccUKey_handlerKeys_,Dr=Ve.ccUKey_ref_,Ar=function(e,t,n){return e+"$"+t+"$"+n},Rr=Q,Mr=G;function Tr(e,t,n,r,o){void 0===o&&(o=null);var a=Ur[e];if(a){var c=a;return r?c=a.filter(function(e){return e.ccUniqueKey===r}):n?c=a.filter(function(e){return e.ccClassKey===n}):t&&(c=a.filter(function(e){return e.module===t})),void 0!==o&&(c=c.filter(function(e){return e.identity===o})),c}return[]}function kr(e){var o={},r=[];e.forEach(function(e){var t=e.ccUniqueKey,n=e.event;delete Nr[e.handlerKey],o[t]=1,r.includes(n)||r.push(n)}),r.forEach(function(e){var r=Ur[e];r&&(r.forEach(function(e,t){var n=e.ccUniqueKey;1===o[n]&&(r[t]=null,delete Ir[n])}),Ur[e]=r.filter(function(e){return null!==e}))})}function Fr(e,t,n,r,o,a){var c=Rr(Ur,r);if("function"!=typeof a)return Mr("event "+r+"'s handler is not a function!");var i=Ar(n,r,o),u=Rr(Ir,n),s=c.findIndex(function(e){return e.handlerKey===i}),d={event:r,module:e,ccClassKey:t,ccUniqueKey:n,identity:o,handlerKey:i,fn:a};-1<s?c[s]=d:(c.push(d),u.push(i)),Nr[i]=d}function Lr(e){for(var t=arguments.length,r=Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var o,a,c,i,u=null;"string"==typeof e?o=e:(o=e.name,u=e.identity,a=e.module,c=e.ccClassKey,i=e.ccUniqueKey),Tr(o,a,c,i,u).forEach(function(e){var t=e.handlerKey;if(Dr[e.ccUniqueKey]&&t){var n=Nr[t];n&&n.fn.apply(n,r)}})}function jr(e,t){kr(Tr(e,t.module,t.ccClassKey,t.ccUniqueKey,t.identity))}function Pr(e){var t=Ir[e];if(t){var n=[];t.forEach(function(e){return n.push(Nr[e])}),kr(n)}}function zr(e){if(e&&"object"==typeof e){var t;if(Array.isArray(e))t={name:e[0],identity:e[1]};else t=Object.assign({},e);return t}return{name:e}}var Wr=Object.freeze({bindEventHandlerToCcContext:Fr,findEventHandlersToPerform:Lr,findEventHandlersToOff:jr,offEventHandlersByCcUniqueKey:Pr,getEventItem:zr});function Hr(r,e,o){return new Proxy(e,{get:function(e,t){var n=r.ctx;return n.__$$renderStatus===g&&(o?n.__$$collectingModuleWatchedKeys_[o][t]=1:n.privStateKeys.includes(t)||(n.__$$collectingWatchedKeys_[t]=1)),e[t]},set:function(e,t){return G("warnning: state can not been changed manually, use api setState or dispatch instead"),e[t]=e[t],!0}})}function qr(o,a){return void 0===a&&(a=!1),function(e,t,n,r){Et(ve,{type:"computed",isLazyComputed:a,refCtx:o,stateKeys:o.stateKeys,retKeyFns:o.computedRetKeyFns,module:o.module,connect:o.connect,dep:o.computedDep},e,t,n,r)}}var Vr=G,Br=R;function Gr(e){return e?e.props||e:{}}var Yr=Ve.store.getState;var Xr=function(e,t,n){var r=n.module,o=n.state,a=!1,c="",i="",u="",s=null,d=-1,f=!1,l=e[fe],p=e.type,y=!1;if(void 0!==l){var v,_,m;if(d=e.delay,i=e.rkey,a="int"===p,f="bool"===p,(c=l).includes("/")){var h=c.split("/");v=h[1],_=c,m=h[0]}else _=r+"/"+(v=c),m=r;var C=Yr(m);u="bool"===p?!we(m!==r?C:o,v):function(e){var t=ne(e);return t?t.currentTarget.value:e}(t);var K=e.val;if(void 0===K);else if("function"==typeof K){var g=K(u,v,{module:m,moduleState:C,fullKeyPath:_,state:o,refCtx:n});if(null!=g)if("as"===p)u=g;else{var S=typeof g;"boolean"==S?y=!g:"object"==S?(y=!0,s=g):G("syncKey["+l+"] cb result type error.")}else"as"===p&&(y=!0)}else u=K}else{var E=ne(t);if(!E)return null;var w=E.currentTarget;u=w.value;var b=w.dataset;if(a="int"===p||void 0!==b.ccint,!(c=b.ccsync))return null;i=b.ccrkey;var $=b.ccdelay;if($)try{d=parseInt($)}catch(e){}}return{currentTarget:{value:u,extraState:s,noAutoExtract:y,dataset:{ccsync:c,ccint:a,ccdelay:d,ccrkey:i}},isToggleBool:f}};var Jr=function(e,t,n,r,o){var a=t;!0!==n||Number.isNaN(a=parseInt(t))&&(G(t+" can not convert to int but you set ccint as true!！"),a=t);var c=null,i=[];if(e.includes("/")){var u=e.split("/"),s=u[1];c=u[0],i=s.includes(".")?s.split("."):[s]}else i=e.includes(".")?e.split("."):[e];if(1===i.length){var d,f,l=i[0];return!0!==o?{module:c,state:(d={},d[l]=a,d)}:{module:c,state:(f={},f[l]=!r[l],f)}}var p,y=i[0],v=i.slice(1),_=r[y];return function e(t,n,r,o,a,c){void 0===c&&(c=!1);var i=n[o];if(r===o)if(!0===c){var u=t[i];"boolean"!=typeof u?G("key["+i+"]'s value type is not boolean"):t[i]=!u}else t[i]=a;else e(t[i],n,r,++o,a,c)}(_,v,v.length-1,0,a,o),{module:c,state:(p={},p[y]=_,p)}},Qr=Ve.store.getState;function Zr(e,t,n){var r=t.ctx,o=r.module,a=Xr(e,n,r);if(a){var c=a.currentTarget,i=c.dataset,u=c.value,s=c.extraState,d=c.noAutoExtract;n&&n.stopPropagation&&n.stopPropagation();var f=i.ccsync,l=i.ccint,p=i.ccdelay,y=i.ccrkey;if(f.startsWith("/")&&(i.ccsync=""+o+f),f.includes("/")){var v=f.split("/")[0];rt(v,!1);var _=r.ccKey,m=r.ccUniqueKey;if(d)return void(s&&In(s,{calledBy:K,ccKey:_,ccUniqueKey:m,module:v,renderKey:y,delay:p},t));var h=v!==o?Qr(v):t.state;In(Jr(f,u,l,h,a.isToggleBool).state,{calledBy:K,ccKey:_,ccUniqueKey:m,module:v,renderKey:y,delay:p},t)}else{if(d)return void(s&&t.setState(s,null,y,p));var C=Jr(f,u,l,t.state,a.isToggleBool);t.setState(C.state,null,y,p)}}}var eo=Ve.reducer,to=eo._module_fnNames_,no=eo._caller,ro=Ve.refStore,oo=Ve.ccClassKey_ccClassContext_,ao=Ve.moduleName_stateKeys_,co=Ve.store.getState,io=Ve.moduleName_ccClassKeys_,uo=Ve.computed._computedValue,so=te,fo=I,lo=function(e){return JSON.parse(JSON.stringify(e))},po=j,yo=Q,vo=J,_o=G,mo=$,ho=0;var Co=function(){},Ko=function(e){return"type of defineEffect "+e+" param must be"};function go(c,e,t){var n;void 0===t&&(t=5);var r=e.isSingle,o=e.ccClassKey,a=e.ccKey,i=void 0===a?"":a,u=e.module,s=e.type,d=e.state,f=e.storedKeys,l=void 0===f?[]:f,p=e.persistStoredKeys,y=void 0!==p&&p,v=e.watchedKeys,_=e.connect,m=void 0===_?{}:_,h=e.tag,C=void 0===h?"":h,K=e.ccOption,g=void 0===K?{}:K,S=u,E=c.ctx,w=c.setState,b=c.forceUpdate;!mo(E)&&E.ccUniqueKey?(w=E.__boundSetState,b=E.__boundForceUpdate):s!==de&&(w=c.setState.bind(c),b=c.forceUpdate.bind(c));var $={};$.persistStoredKeys=void 0===g.persistStoredKeys?y:g.persistStoredKeys,$.tag=g.tag||C;var x=function(e,t,n,r){var o;if(e)n&&Vr("now the ccClass is singleton, you needn't supply ccKey to instance props, cc will ignore the ccKey["+n+"]"),o=t;else if(n)o=Br(t,n);else{var a=Kt(r);o=Br(t,a)}return o}(r,o,i,$.tag);if($.renderKey=g.renderKey||x,$.storedKeys=function(e,t,n,r){var o=n||r;return o?"*"===o?Object.keys(e).filter(function(e){return!t.includes(e)}):(ot(t,o),o):[]}(d,ao[S],g.storedKeys,l),i&&!o)throw Error("missing ccClassKey while init a cc ins with ccKey["+i+"]");if(0<$.storedKeys.length&&!i)throw fo(_e.CC_STORED_KEYS_NEED_CCKEY,po("ccClassKey["+o+"]"));var O=oo[o],U=O.connectedState,N=so(m),I=O.connectedComputed||{},D={},A=co(u),R=uo[u]||{},M=uo[se]||{},T=co(se),k=Ke(so(d),ao[S]),F=ro._state[x]||{},L=Object.assign({},d,F,A),j=so(c.state=L),P=yo(io,u);P.includes(o)||P.push(o);function z(e,t){In(e,t,c)}function W(e,t,n,r,o,a){z(t,{calledBy:n,module:e,renderKey:o,delay:a,reactCallback:r})}function H(e,t,n,r,o){W(e,t,pe,n,r,o)}function q(e,t,n,r,o){"string"==typeof e?H(e,t,n,r,o):W(S,e,le,t,n,r)}function V(e,t,n){W(S,c.state,ye,e,t,n)}var B=[],G=[],Y=[],X={effectItems:G,eid_effectReturnCb_:{},effectPropsItems:Y,eid_effectPropsReturnCb_:{}},J={},Q={},Z=Gr(c.props),ee=((n={type:s,isSingle:r,module:u,ccClassKey:o,ccKey:i,ccUniqueKey:x,renderCount:1,initTime:Date.now(),watchedKeys:v,privStateKeys:k,connect:m,connectedModules:N,__$$hasModuleState:0<ao[u].length,__$$renderStatus:me,__$$preparedWatchedKeys:[],__$$collectingWatchedKeys_:{},__$$preparedModuleWatchedKeys_:{},__$$collectingModuleWatchedKeys_:{},persistStoredKeys:$.persistStoredKeys,storedKeys:$.storedKeys,renderKey:$.renderKey,tag:$.tag,prevProps:Z,props:Z,mapped:{},prevState:L,state:L,moduleState:A,globalState:T,connectedState:D,extra:{},staticExtra:{},refComputed:{},refComputedOri:{},moduleComputed:R,globalComputed:M,connectedComputed:I,moduleReducer:{},connectedReducer:{},reducer:{}}).mapped={},n.stateKeys=j,n.onEvents=B,n.computedDep={},n.computedRetKeyFns={},n.watchDep={},n.watchRetKeyFns={},n.execute=null,n.auxMap=J,n.effectMeta=X,n.retKey_fnUid_={},n.reactSetState=Co,n.__boundSetState=w,n.reactForceUpdate=Co,n.__boundForceUpdate=b,n.setState=q,n.setModuleState=H,n.forceUpdate=V,n.changeState=z,n.refs=Q,n.useRef=function(t){return function(e){return Q[t]={current:e}}},n.__$$ccSetState=Qn(c),n.__$$ccForceUpdate=Zn(c),n.__$$settedList=[],n.__$$prevMoStateVer={},n);c.setState=q,c.forceUpdate=V,ee.initState=function(e){return c.__$$isBF?Ce(d)?(c.state=Object.assign({},d,e,F,A),void(ee.prevState=ee.state=c.state)):_o("state "+he):_o("ctx.initState can only been called before first render period!")};var te=nr(c,!1,!1,S);if(ee.dispatch=te,1<t&&(ee.lazyDispatch=nr(c,!0,!1,S),ee.silentDispatch=nr(c,!1,!0,S),ee.dispatchLazy=ee.lazyDispatch,ee.dispatchSilent=ee.silentDispatch,ee.invoke=er(c),ee.lazyInvoke=er(c,{isLazy:!0}),ee.silentInvoke=er(c,{isLazy:!1,isSilent:!0}),ee.invokeLazy=ee.lazyInvoke,ee.invokeSilent=ee.silentInvoke,ee.setGlobalState=function(e,t,n,r){W(se,e,le,t,n,r)}),2<t){var ne=function(e,t,n,r,o){var a;if("string"==typeof e)return Zr.bind(null,((a={})[fe]=e,a.type=o,a.val=t,a.delay=r,a.rkey=n,a),c);Zr({type:"val"},c,e)};ee.sync=function(e,t,n,r){return void 0===n&&(n=""),void 0===r&&(r=-1),ne(e,t,n,r,"val")},ee.syncBool=function(e,t,n,r){return void 0===n&&(n=""),void 0===r&&(r=-1),ne(e,t,n,r,"bool")},ee.syncInt=function(e,t,n,r){return void 0===n&&(n=""),void 0===r&&(r=-1),ne(e,t,n,r,"int")},ee.syncAs=function(e,t,n,r){return void 0===n&&(n=""),void 0===r&&(r=-1),ne(e,t,n,r,"as")},ee.set=function(e,t,n,r){var o;void 0===n&&(n=""),void 0===r&&(r=-1),Zr(((o={})[fe]=e,o.type="val",o.val=t,o.delay=r,o.rkey=n,o),c)},ee.setBool=function(e,t,n){var r;void 0===t&&(t=""),void 0===n&&(n=-1),Zr(((r={})[fe]=e,r.type="bool",r.delay=n,r.rkey=t,r),c)}}if(3<t&&(ee.emit=function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Lr.apply(Wr,[zr(e)].concat(n))},ee.off=function(e,t){var n=void 0===t?{}:t,r=n.module,o=n.ccClassKey,a=n.ccUniqueKey,c=void 0===a?x:a,i=zr(e);jr(i.name,{module:r,ccClassKey:o,ccUniqueKey:c,identity:i.identity})},ee.on=function(e,t){var n=zr(e),r=n.identity;B.push({event:n.name,handler:t,identity:void 0===r?null:r})}),4<t){ee.execute=function(e){return ee.execute=e},ee.aux=function(e,t){if(J[e])throw Error("auxMethod["+e+"] already defined!");J[e]=t},ee.watch=function(a){return function(e,t,n,r,o){Et(ve,{type:"watch",refCtx:a,stateKeys:a.stateKeys,retKeyFns:a.watchRetKeyFns,module:a.module,connect:a.connect,dep:a.watchDep},e,t,n,r,o)}}(ee),ee.computed=qr(ee),ee.lazyComputed=qr(ee,!0);var re=function(u,s){return function(e,t,n,r){if(void 0===n&&(n=!0),void 0===r&&(r=!0),"function"!=typeof e)throw Error(Ko("first")+" function");var o=t,a=s?n:r;if(null!=t&&!Array.isArray(t))throw Error(Ko("second")+" one of them(array, null, undefined)");var c=null;!s&&o&&(c=[],o.forEach(function(e){e.includes("/")?c.push(e):c.push(S+"/"+e)}));var i={fn:e,isProp:s,depKeys:o,moDepKeys:c,eId:Symbol("__autoGen_"+ ++ho+"__"),compare:n,immediate:a};u.push(i)}};ee.effect=re(G,!1),ee.effectProps=re(Y,!0)}var oe=ee.moduleReducer,ae=ee.connectedReducer,ce=ee.__$$collectingModuleWatchedKeys_,ie=N.slice();ie.includes(u)?_o("module["+u+"] is in belongTo and connect both, it will cause redundant render."):ie.push(u);var ue=!0;ie.forEach(function(o){var e;e=o===u?oe:vo(ae,o),N.includes(o)&&(D[o]="-"===m[o]?(ue=!1,ce[o]={},Hr(c,U[o],o)):U[o]),(to[o]||[]).forEach(function(r){e[r]=function(e,t,n){return te(o+"/"+r,e,t,n)}})}),ee.reducer=no,"-"===v&&(ue=!1),(ee.__$$noAutoWatch=ue)||(ee.__$$emptyCMWKeys=lo(ce),ee.__$$getEmptyCMWKeys=function(){return lo(ee.__$$emptyCMWKeys)}),ee.__$$reInjectConnObState=function(){var t={};N.forEach(Array.isArray(m)?function(e){t[e]=Hr(c,U[e],e)}:function(e){t[e]="-"===m[e]?Hr(c,U[e],e):U[e]}),ee.connectedState=t},E?Object.assign(c.ctx,ee):c.ctx=ee}var So=Ve.store.getState;var Eo=te,wo=Ve.runtimeVar;function bo(n,e,t){var r=n.ctx;if(n.__$$isUnmounted=!1,n.__$$isMounted=!1,r.__$$isBSe=n.__$$isBF=!0,e){if("function"!=typeof e)throw Error("type of setup must be function");var o=e(r)||{};if(!Ce(o))throw Error("type of setup return result must be an plain json object");(!0===t||!0===wo.bindCtxToMethod&&!1!==t)&&Eo(o).forEach(function(e){var t=o[e];"function"==typeof t&&(o[e]=t.bind(n,r))}),r.settings=o}r.__$$isBSe=!1,r.refComputed=xt(r.computedRetKeyFns,r.refComputedOri),function(e){var r=e.ctx,t=r.hasComputedFn,n=r.hasWatchFn,o=r.connect,a=r.module,c=Se(a),i=te(o),u=r.state;t&&(Zt(r,a,u,u,c,!0,!0),i.forEach(function(e){var t=So(e),n=Se(e);Zt(r,e,t,t,n,!0,!0)})),n&&(Qt(r,a,u,u,c,!0,!0),i.forEach(function(e){var t=So(e),n=Se(e);Qt(r,e,t,t,n,!0,!0)}))}(n)}var $o=Ve.moduleName_stateKeys_,xo=Ve.store,Oo=xo.getPrevState,Uo=xo.getState,No=xo.getStateVer,Io=function(e,t){return G("effect: key["+e+"] is invalid, its "+t+" has not been declared in' store!")};function Do(e,t){function n(o,a,c){return function(e){var t=e.eId;if(!c||!1!==e.immediate){var n=o[t],r=(0,e.fn)(i,a);r&&(o[t]=r),n&&n(i)}}}var i=e.ctx,r=i.effectMeta,o=r.effectItems,a=r.eid_effectReturnCb_,c=r.effectPropsItems,u=r.eid_effectPropsReturnCb_,h=i.__$$prevMoStateVer,C=i.__$$settedList,K=i.module;if(t)o.forEach(n(a,!0,!0)),c.forEach(n(u,!0,!0));else{var g=i.prevState,S=e.state,E=[];o.forEach(function(e){var t=e.moDepKeys,n=e.compare,r=e.fn,o=e.eId;if(t){var a=t.length;if(0===a)return;for(var c=function(e){return e.reduce(function(t,e){var n=e.module;return e.keys.forEach(function(e){return t[n+"/"+e]=1}),t},{})}(C),i=!1,u=0;u<a;u++){var s=t[u];if(n){var d=void 0,f=void 0,l=void 0,p=s.split("/"),y=p[0],v=p[1];if(y!==K){var _=Oo(y),m=No(y);if(h[v]===m[v])continue;if(h[v]=m[v],!_){Io(s,"module["+y+"]");continue}if(!$o[y].includes(v)){Io(s,"unmoduledKey["+v+"]");continue}d=Uo(y),f=_,l=v}else d=S,f=g,l=s;if(f[l]!==d[l]){i=!0;break}}else if(c[s]){i=!0;break}}i&&E.push({fn:r,eId:o})}else E.push({fn:r,eId:o})}),E.forEach(n(a,!1,!1));var s=i.prevProps,d=i.props,f=[];c.forEach(function(e){var t=e.depKeys,n=e.fn,r=e.eId;if(t){var o=t.length;if(0===o)return;for(var a=!1,c=0;c<o;c++){var i=t[c];if(s[i]!==d[i]){a=!0;break}}a&&f.push({fn:n,eId:r})}else f.push({fn:n,eId:r})}),f.forEach(n(u,!1,!1)),C.length=0}}var Ao=G,Ro=I,Mo=j,To=z,ko=P,Fo=te,Lo=Ve.runtimeVar,jo=Ve.ccClassKey_ccClassContext_,Po=Ve.ccUKey_ref_,zo=Ve.module_ccUKeys_,Wo={};function Ho(e,t){var n=zo[e];n.keys.includes(t)||(n.ver++,n.keys.push(t))}function qo(n,r,o,e){function t(){Po[n]=r,o.push(n);var e=r.ctx,t=e.connect;Ho(e.module,n),Fo(t).forEach(function(e){return Ho(e,n)})}!function(e){void 0===Wo[e]?Wo[e]=1:Wo[e]+=1}(n),e?setTimeout(t,e):t()}function Vo(e,t,n,r,o){var a=jo[n],c=a.ccKeys;Lo.isDebug&&console.log(To("register ccKey "+o+" to CC_CONTEXT"),ko());var i=Ve.isHotReloadMode();if(c.includes(o)){var u=function(){throw Ro(_e.CC_CLASS_INSTANCE_KEY_DUPLICATE,Mo("ccClass:"+n+",ccKey:"+o))};if(i){var s=function(e){return void 0===Wo[e]?0:Wo[e]}(o);if(t&&0<s)throw Ro(_e.CC_CLASS_INSTANCE_MORE_THAN_ONE,Mo("ccClass:"+n));1<s&&u(),Ao("\n        found ccKey["+r+"] duplicated in hot reload mode, please make sure your ccKey is unique manually,\n        "+Mo("ccClassKey:"+n+" ccKey:"+r+" ccUniqueKey:"+o)+"\n      "),qo(o,e,c,600)}else u()}else qo(o,e,c);return a}function Bo(e){var t=e.ctx,n=t.module,r=t.connectedModules;if(!t.__$$noAutoWatch){t.__$$renderStatus=me;var o=t.__$$preparedWatchedKeys.sort().join(",");t.__$$preparedWatchedKeys=te(t.__$$collectingWatchedKeys_),t.__$$preparedWatchedKeys.sort().join(",")!==o&&ut(n);var a=t.__$$preparedModuleWatchedKeys_,c=t.__$$collectingModuleWatchedKeys_,i={};r.forEach(function(e){var t=te(c[e]||[]),n=a[e]||[];!n||n.sort().join(",")!==t.sort().join(",")&&ut(e);i[e]=t}),t.__$$preparedModuleWatchedKeys_=i,t.__$$collectingModuleWatchedKeys_=t.__$$getEmptyCMWKeys(),t.__$$collectingWatchedKeys_={}}}function Go(e){Bo(e),e.__$$isBF=!1,e.__$$isMounted=!0,e.__$$isUnmounted=!1;var t=e.ctx,n=t.module,r=t.ccClassKey,o=t.ccUniqueKey,a=t.onEvents;Vo(e,t.isSingle,r,t.ccKey,o),a.forEach(function(e){Fr(n,r,o,e.event,e.identity,e.handler)}),Do(e,!0)}function Yo(e){Bo(e),Do(e),e.ctx.prevState=e.state}var Xo=Ve.ccUKey_ref_,Jo=Ve.ccUKey_handlerKeys_,Qo=Ve.runtimeVar,Zo=Ve.module_ccUKeys_,ea=Ve.ccClassKey_ccClassContext_,ta=Ve.handlerKey_handler_;function na(e,t){var n=Zo[e];n.ver++;var r=n.keys.indexOf(t);0<r&&n.keys.splice(r,1)}function ra(e,t){Qo.isDebug&&console.log(z(t+" unset ref"),P("purple"));var n=Xo[t];if(n){var r=n.ctx,o=r.connect;na(r.module,t),te(o).forEach(function(e){return na(e,t)})}delete Xo[t];var a=ea[e].ccKeys,c=a.indexOf(t);c<0||a.splice(c,1),function(e){void 0===Wo[e]?Wo[e]=0:Wo[e]-=1}(t);var i=Jo[t];i&&i.forEach(function(e){delete ta[e]})}var oa=te;function aa(n,r){function e(e){var t=n[e];"function"==typeof t&&t(r)}Object.getOwnPropertySymbols(n).forEach(e),oa(n).forEach(e)}function ca(e){e.__$$isUnmounted=!0;var t=e.ctx,n=t.ccUniqueKey,r=t.ccClassKey;if(e.__$$isMounted){var o=t.effectMeta,a=o.eid_effectPropsReturnCb_;aa(o.eid_effectReturnCb_,t),aa(a,t),Pr(n)}ra(r,n)}function ia(e){var t=e.ctx;t.__$$renderStatus=g,"-"===t.watchedKeys&&t.__$$hasModuleState&&(e.state=Hr(e,e.state),t.state=e.state)}var ua=function(e){return"CC("+e+")"},sa=be,da=oe,fa=Ee,la=Ve.runtimeVar,pa=P,ya=z,va=function(e){return Error("can not defined setup both in register options and class body --verbose:"+e)};function _a(e,t){var n=void 0===e?{}:e,r=n.module,o=void 0===r?H:r,a=n.state,u=void 0===a?{}:a,c=n.watchedKeys,s=void 0===c?"-":c,i=n.storedKeys,d=void 0===i?[]:i,f=n.setup,l=void 0===f?null:f,p=n.persistStoredKeys,y=n.connect,v=void 0===y?{}:y,_=n.tag,m=n.lite,h=n.isPropsProxy,C=void 0!==h&&h,K=n.isSingle,g=void 0!==K&&K,S=n.renderKeyClasses,E=n.__checkStartUp,w=void 0===E||E,b=n.compareProps,$=void 0===b||b,x=n.__calledBy;void 0===t&&(t="");try{var O=Or(o,t,S,A,sa(s),d,v,w,x),U=O._module,N=O._ccClassKey,I=O._connect;return function(n){if(n.prototype&&n.prototype.$$attach)throw Error("register a cc class is prohibited!");var e=!1===C?n:D.Component,i=e.$$setup,t=function(c){function e(e,t){var n;try{n=c.call(this,e,t)||this;var r=fa(u),o=Object.assign(n.state||{},r);n.$$attach=n.$$attach.bind(fr(n));var a=Object.assign({},e,{isSingle:g,module:U,tag:_,state:o,type:A,watchedKeys:s,ccClassKey:N,connect:I,storedKeys:d,persistStoredKeys:p});if(go(fr(n),a,m),n.ctx.reactSetState=or(fr(n)),n.ctx.reactForceUpdate=ar(fr(n)),l&&(n.$$setup||i))throw va("ccUniqueKey "+n.ctx.ccUniqueKey);C||(n.$$setup&&(n.$$setup=n.$$setup.bind(fr(n))),bo(fr(n),l||n.$$setup||i,!1))}catch(e){Lt(e)}return n}dr(e,c);var t=e.prototype;return t.shouldComponentUpdate=function(e,t){var n=this.ctx.childRef;if(n&&n.shouldComponentUpdate)return n.shouldComponentUpdate(e,t);if(c.prototype.shouldComponentUpdate)return c.prototype.shouldComponentUpdate.call(this,e,t);var r=!!$&&da(this.props,e);return this.state!==t||r},t.$$attach=function(e){var t=this.ctx;if(((t.childRef=e).ctx=t).reactSetState=e.setState.bind(e),t.reactForceUpdate=e.forceUpdate.bind(e),e.setState=t.setState,e.forceUpdate=t.forceUpdate,t.__$$ccSetState=Qn(e,this),t.__$$ccForceUpdate=Zn(e),e.state||(e.state={}),Object.assign(e.state,this.state),ia(e),e.$$setup&&(e.$$setup=e.$$setup.bind(e)),l&&(e.$$setup||i))throw va("ccUniqueKey "+t.ccUniqueKey);bo(e,l||e.$$setup||i,!1)},t.componentDidMount=function(){c.prototype.componentDidMount&&c.prototype.componentDidMount.call(this),Go(this)},t.componentDidUpdate=function(){c.prototype.componentDidUpdate&&c.prototype.componentDidUpdate.call(this),Yo(this)},t.componentWillUnmount=function(){c.prototype.componentWillUnmount&&c.prototype.componentWillUnmount.call(this),ca(this)},t.render=function(){return this.ctx.prevProps=this.ctx.props,this.ctx.props=this.props,la.isDebug&&console.log(ya("@@@ render "+ua(N)),pa()),!1===C?("-"===this.ctx.watchedKeys&&ia(this),c.prototype.render.call(this)):D.createElement(n,{ctx:this.ctx,$$attach:this.$$attach})},e}(e);return t.displayName=N===B?"CcDispatcher":ua(N),t}}catch(e){Lt(e)}}function ma(e){var t=function(e){function t(){return e.apply(this,arguments)||this}return dr(t,e),t.prototype.render=function(){return this.props.children||D.createElement("span",{style:{display:"none"}})},t}(D.Component);if(Ve.refs[B]){if(!Ve.isHotReloadMode())throw Error("CcDispatcher can only be initialize one time");Y("hot reload mode, CC_DISPATCHER existed")}var n=e||t;return _a({isSingle:!0,__checkStartUp:!1,__calledBy:"cc"},B)(n)}var ha=Ce,Ca=te;function Ka(e,t){if(!ha(e))throw Error(t+" "+he)}function ga(e){if(!ha(e))throw Error("StartupOption.moduleSingleClass "+he);!function(t,n){Object.keys(n).forEach(function(e){t[e]=n[e]})}(Ve.moduleSingleClass,e)}function Sa(e){if(0<e.length){var o=Ve.plugins;o.length=0,Mt.forEach(function(e){return Tt[e].length=0});var a={};e.forEach(function(e){if(o.push(e),!e.install)throw Error("a plugin must export install handler!");var t=e.install(Ft),n=Error("plugin.install must return result:{name:string, options?:object}");if(!t)throw n;var r=t.name;if(!r)throw n;if(a[r])throw Error("pluginName["+r+"] duplicate");a[r]=1})}}var Ea=function(e){var t=document.querySelector("#"+c);if(!t){(t=document.createElement("div")).id=c;var n=t.style;n.position="fixed",n.left=0,n.top=0,n.display="none",n.zIndex=-888666,document.body.appendChild(t)}r.render(D.createElement(e),t)},wa=!1;function ba(e,r){void 0===e&&(e=!1),ee(Ve.event_handlers_),ee(Ve.ccUKey_handlerKeys_),ee(Ve.module_ccUKeys_,[],{ver:1,keys:[]});var o=Ve.ccClassKey_ccClassContext_,t=Ve.ccUKey_ref_;if(Object.keys(o).forEach(function(e){var t=o[e],n=[];0<r.length&&t.ccKeys.forEach(function(e){r.includes(e)&&n.push(e)}),ee(t.ccKeys,n)}),ee(Ve.handlerKey_handler_),ee(t,[B].concat(r)),e){var n=Ve.computed,a=Ve.watch,c=n._computedValue,i=a._watchDep;te(Ve.store._state).forEach(function(e){e!==q&&(c[e]&&(Ve.computed._computedDep[e]={retKey_fn_:{},retKey_lazy_:{},stateKey_retKeys_:{},fnCount:0},Nt(e,n._computedRaw[e])),i[e]&&(i[e]={retKey_fn_:{},retKey_lazy_:{},stateKey_retKeys_:{},fnCount:0},Rt(e,a._watchRaw[e])))})}}function $a(){var n=Ve.ccUKey_ref_,r=[];return te(n).forEach(function(e){var t=n[e];t&&t.ctx.type===x&&!0!==t.props.__$$regDumb&&!0===t.__$$isMounted&&0==t.__$$isUnmounted&&r.push(e)}),r}function xa(){ee(Ve.globalStateKeys);var e=te(Ve.moduleName_isConfigured_).concat([H,q,se,a]);ee(Ve.reducer._reducer,e),ee(Ve.store._state,e,{}),ee(Ve.computed._computedDep,e),ee(Ve.computed._computedValue,e),ee(Ve.watch._watchDep,e),ee(Ve.middlewares),$e={module:{computed:{},watch:{}},ref:{computed:{},watch:{},effect:{}}};var t=$a();return ba(!1,t),t}function Oa(e){void 0===e&&(e=!1),Ve.info.latestStartupTime=Date.now();var t=[];return Ve.isStartup?Ve.isHotReloadMode()?e?(console.warn("attention: make sure [[clearContextIfHot]] been called before app rendered!"),wa=!0,t=xa()):(wa?wa=!1:(function(){if(!Ve.refs[B]){var e=ma();Ea(e)}}(),t=$a(),ba(Ve.reComputed,t)),t):(console.warn("clear failed because of not running under hot reload mode!"),t):(wa=!0,t)}var Ua=ae,Na=Ee;function Ia(e){var t=e.props,n=Ua(t.register),r=n.module,o=n.renderKeyClasses,a=n.tag,c=n.lite,i=n.compareProps,u=void 0===i||i,s=n.setup,d=n.bindCtxToMethod,f=n.watchedKeys,l=void 0===f?"-":f,p=n.connect,y=void 0===p?{}:p,v=n.isSingle,_=n.storedKeys,m=void 0===_?[]:_,h=Na(n.state),C=t.ccClassKey,K=t.ccKey,g=t.ccOption,S=void 0===g?{}:g,E=l,w=C,b=y;if(!0!==t.__$$regDumb){var $=Or(r,C,o,x,be(l),m,y,!0);E=l,w=$._ccClassKey,b=$._connect}go(e,{isSingle:v,ccKey:K,connect:b,state:h,module:r,storedKeys:m,watchedKeys:E,tag:a,ccClassKey:w,ccOption:S,type:x},c),e.ctx.reactSetState=or(e),e.ctx.reactForceUpdate=ar(e),e.__$$compareProps=u,bo(e,s,d)}var Da=Y,Aa=re,Ra="";function Ma(e,t){var n=void 0===e?{}:e,r=n.store,o=void 0===r?{}:r,a=n.reducer,c=void 0===a?{}:a,i=n.init,u=void 0===i?null:i,s=n.computed,d=void 0===s?{}:s,f=n.watch,l=void 0===f?{}:f,p=n.moduleSingleClass,y=void 0===p?{}:p,v=void 0===t?{}:t,_=v.plugins,m=void 0===_?[]:_,h=v.middlewares,C=void 0===h?[]:h,K=v.isStrict,g=void 0!==K&&K,S=v.isDebug,E=void 0!==S&&S,w=v.errorHandler,b=void 0===w?null:w,$=v.isHot,x=v.bindCtxToMethod,O=void 0!==x&&x,U=v.computedCompare,N=void 0===U||U,I=v.watchCompare,D=void 0===I||I,A=v.watchImmediate,R=void 0!==A&&A,M=v.alwaysGiveState,T=void 0===M||M,k=v.reComputed,F=void 0===k||k;try{throw Error()}catch(e){var L=function(e){function t(e,t){for(var n=0;n<o;n++)if(r[n].includes(e)){a=r[n+t];break}}var n=Ve.info,r=e.stack.split("\n"),o=r.length,a="";function c(){return Oa(Ve.isHot=!0)}t("startup",2),a||t("runConcent",0);var i=Date.now(),u=[],s=!0;if(Ra)if(Ra!==a){var d="invalid run api call!(it can only be called once, changing 'call run' line location in HMR will cause this error also, \n    try refresh browser to reload your app to avoid this tip)";if(i-n.latestStartupTime<1e3)throw Error(d);ge()?(u=c(),Ra=a):(X(d),s=!1)}else u=c();else Ra=a,n.firstStartupTime=i,n.latestStartupTime=i;return{canStartup:s,ccFragKeys:u}}(e),j=L.ccFragKeys;if(!L.canStartup)return;try{console.log("%c window.name:"+window.name,"color:green;border:1px solid green"),Da("cc version "+Ve.info.version),void 0!==$&&(Ve.isHot=$),Ve.reComputed=F,Ve.errorHandler=b;var P=Ve.runtimeVar;if(P.alwaysGiveState=T,P.isStrict=g,P.isDebug=E,P.computedCompare=N,P.watchCompare=D,P.watchImmediate=R,P.bindCtxToMethod=O,ga(y),function(e){Ka(e,"state"),delete e[V],delete e[q],void 0===e[se]&&(e[se]={}),void 0===e[H]&&(e[H]={});for(var t=Ca(e),n=t.length,r=0;r<n;r++){var o=t[r];dt(o,e[o])}}(o),function(t){Ka(t,"reducer"),void 0===t[H]&&(t[H]={}),void 0===t[se]&&(t[se]={}),Ca(t).forEach(function(e){return mt(e,t[e])})}(c),function(t){Ka(t,"computed"),Ca(t).forEach(function(e){return Nt(e,t[e])})}(d),function(t){Ka(t,"watch"),Object.keys(t).forEach(function(e){return Rt(e,t[e])})}(l),function(n){if(n){if(!ha(n))throw Error("init "+he);Ca(n).forEach(function(t){rt(t,!1);var e=n[t];e&&Promise.resolve().then(e).then(function(e){rr(t)(e)})}),Ve.init._init=n}}(u),function(e){if(0<e.length){var t=Ve.middlewares;t.length=0,e.forEach(function(e){return t.push(e)})}}(C),!Ve.refs[B]){var z=ma();Ea(z)}var W=function(e){Aa("CC_CONTEXT",Ve,e),Aa("ccc",Ve,e),Aa("cccc",Ve.computed._computedValue,e),Aa("sss",Ve.store._state,e)};window.mcc?setTimeout(function(){W(window.mcc[ie()])},1200):W(),Ve.isStartup=!0,Sa(m),j.forEach(function(e){var t=Ve.ccUKey_ref_[e];ca(t),Ia(t),Go(t)})}catch(e){if(!b)throw e;b(e)}}}function Ta(e){throw Error("[[run]]: param error, "+e+" "+he)}var ka=Ce,Fa=te,La=$,ja=Ee;function Pa(e,t){var n=ae(e);return delete n.__checkStartUp,delete n.__calledBy,_a(n,t)}var za=oe,Wa=D.createElement("span",{style:{display:"none"}}),Ha=function(r){function e(e,t){var n;return Ia(fr(n=r.call(this,e,t)||this)),n}dr(e,r);var t=e.prototype;return t.componentDidMount=function(){Go(this)},t.shouldComponentUpdate=function(e,t){var n=!!this.__$$compareProps&&za(Gr(e),Gr(this.props));return this.state!==t||n},t.componentDidUpdate=function(){Yo(this)},t.componentWillUnmount=function(){r.prototype.componentWillUnmount&&r.prototype.componentWillUnmount.call(this),ca(this)},t.render=function(){var e=this.props;this.ctx.prevProps=this.ctx.props,this.ctx.props=Gr(e);var t=e.render,n=t||e.children;if("function"==typeof n){ia(this);var r=e.register,o=void 0===r?{}:r,a=this.ctx;return!0!==e.__$$regDumb&&o.mapProps?(a.mapped=o.mapProps(a)||{},n(a.mapped)||Wa):n(a)||Wa}if(D.isValidElement(n))throw Error("CcFragment's children can not b a react dom ");return n},e}(D.Component);function qa(e,t){var n=ae(e),r=n.renderKeyClasses,o=n.module,a=n.watchedKeys,c=void 0===a?"-":a,i=n.storedKeys,u=n.render,s=n.connect,d=void 0===s?{}:s,f=be(c),l=Or(o,t,r,x,f,i,d,!0),p=l._ccClassKey,y=l._connect;function v(t){return function(e){return n.props=e,function(t,e){var n=e.mapProps,r=e.props,o=void 0===r?{}:r,a={__$$regDumb:!0,props:o,ccOption:o.ccOption,ccClassKey:e.ccClassKey,render:function(e){return n?(e.mapped=n(e),D.createElement(t,e.mapped)):D.createElement(t,e)},ccKey:o.ccKey,register:e};return D.createElement(Ha,a)}(t,n)}}return n.module=l._module,n.watchedKeys=c,n.ccClassKey=p,n.connect=y,u?v(u):function(e){return v(e)}}var Va=Ve.ccUKey_ref_,Ba=1;function Ga(e,t,n){this.setState=t,this.forceUpdate=t,this.state=e,this.isFirstRendered=!0,this.props=n}function Ya(e,t,n,r,o,a,c,i,u,s){var d=n||Ee(r),f=o.bindCtxToMethod,l=o.watchedKeys,p=void 0===l?"-":l,y=o.storedKeys,v=void 0===y?[]:y,_=o.connect,m=void 0===_?{}:_,h=o.setup,C=o.lite;Ba+=1;var K=Or(o.module,s,o.renderKeyClasses,de,be(p),v,m,!0),g=K._module,S=K._ccClassKey,E=K._connect,w=e||new Ga(a,c,i),b=Object.assign({},o,{module:g,watchedKeys:p,state:d,type:de,ccClassKey:S,connect:E,ccOption:i.ccOption});w.props=i,go(w,b,C),w.ctx.reactSetState=or(w),w.ctx.reactForceUpdate=ar(w);var $=w.ctx;return $.props=i,$.extra=u,bo(w,h,f),t.current=w.ctx.ccUniqueKey,$.useRef=function(e){var t=D.useRef(null);return $.refs[e]=t},w}function Xa(e,t){e.__boundSetState=t,e.__boundForceUpdate=t}var Ja="react version is LTE 16.8";function Qa(e,t){var n=ae(e),r=n.state,o=void 0===r?{}:r,a=n.props,c=void 0===a?{}:a,i=n.mapProps,u=n.layoutEffect,s=void 0!==u&&u,d=n.extra,f=void 0===d?{}:d,l=D.useState;if(!l)throw Error(Ja);function p(e){return Ya(e,g,m,o,n,C,K,c,f,t)}var y,v=Ba,_=l(v)[0]===v,m=_?Ee(o):0,h=l(m),C=h[0],K=h[1],g=D.useRef(null);if(_)y=p();else if(y=Va[g.current]){var S=y.ctx;S.prevProps=S.props,y.props=S.props=c,S.extra=f}else y=p();var E=y.ctx,w=s?D.useLayoutEffect:D.useEffect;if(w(function(){y.isFirstRendered||Yo(y),Xa(E,K)}),w(function(){return!1===y.isFirstRendered?p(y):y.isFirstRendered=!1,Xa(E,K),Go(y),function(){ca(y)}},[]),i){var b=i(E);if(!Ce(b))throw Error("mapProps ret "+he);E.mapped=b}return ia(y),E}function Za(){throw Error("api doc: cc.setState(module:string, state:object, renderKey:string, delayMs?:number, skipMiddleware?:boolean, throwError?:boolean)")}function ec(e){return Ve.store.getState(e)}var tc=Ve.computed._computedValue;var nc=Ve.ccUKey_ref_,rc=Ve.ccClassKey_ccClassContext_;function oc(){var n=[],r=Ve.ccUKey_ref_;return te(r).forEach(function(e){var t=r[e];t&&!t.__$$isUnmounted&&n.push(t)}),n}function ac(e,t,n){var r=void 0===n?{}:n,o=r.state,a=r.reducer,c=r.computed,i=r.watch,u=r.init;if(!Ve.isStartup)throw Error("cc is not startup yet");nt(e),rt(t,!1);var s=Ve.moduleName_stateFn_[t];if(!s)throw Error("target module["+t+"] state must be a function when use cloneModule");var d=s();Object.assign(d,Ee(o));var f=sr(Ve.reducer._reducer[t]||{},e);a&&Object.assign(f,sr(a,e));var l=Ve.computed._computedRaw[t]||{};c&&Object.assign(l,c);var p=Ve.watch._watchRaw[t]||{};i&&Object.assign(p,i);var y=Ve.init._init[t];u&&(y=u);var v={state:d,reducer:f,computed:l,watch:p};y&&(v.init=y),ur(e,v)}function cc(t,e){function r(e,t){var n=t.state,r=t.reducer,o=void 0===r?{}:r,a=t.watch,c=t.computed,i=t.init,u=t.isClassSingle;if(s.store[e])throw Error("run api error: module"+e+" duplicate");s.store[e]=ja(n),"function"==typeof n&&(Ve.moduleName_stateFn_[e]=n),s.reducer[e]=o,a&&(s.watch[e]=a),c&&(s.computed[e]=c),i&&(s.init[e]=i),s.moduleSingleClass[e]=!0===u}void 0===t&&(t={}),void 0===e&&(e={}),ka(t)||Ta("store"),ka(e)||Ta("options");var s={store:{},reducer:{},watch:{},computed:{},init:{},moduleSingleClass:{}};Fa(t).forEach(function(e){return r(e,t[e])}),Je.forEach(function(e){var t=e.module,n=e.config;Y("configure pending module["+t+"]"),r(t,n)}),Je.length=0,La(s.init)&&(s.init=null),Ma(s,e)}function ic(e,t){return Pa({connect:e},t)}function uc(e,t){return qa({connect:e},t)}function sc(e,o){var a=ae(e);function t(n){var e=a.memo,t=void 0===e||e;function r(){return function(e){a.props=e;var t=Qa(a,o);return D.createElement(n,a.mapProps?t.mapped:t)}}return delete a.memo,t&&D.memo?D.memo(r()):r()}"function"==typeof a.state&&(a.state=a.state());var n=a.render;return n?t(n):function(e){return t(e)}}function dc(e,t,n,r,o){void 0===o&&(o=!1);try{ft().ctx.setGlobalState(e,t,n,r)}catch(e){if(o)throw e;G(e.message)}}function fc(e,t,n,r,o,a){void 0===r&&(r=-1),void 0===a&&(a=!1),void 0===e&&void 0===t&&Za(),"string"!=typeof e&&Za(),An(e,t,n,r,o)}function lc(e,t,n,r){ft().ctx.set(e,t,n,r)}function pc(e,t){if(!e.includes("/"))throw Error("keyPath must start with module");var n=e.split("/"),r=ec(n[0]);return Jr(e,t,!1,r,!1).state}function yc(e){return bc[e].connectedState||{}}function vc(e){return e?tc[e]:tc}function _c(e){if(void 0===e)throw Error("api doc: cc.emit(event:string|{name:string, identity?:string, ctx?:boolean}, ...args)");try{for(var t,n=ft(),r=arguments.length,o=Array(1<r?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];(t=n.ctx).emit.apply(t,[e].concat(o))}catch(e){G(e)}}function mc(e,t){try{ft().ctx.off(e,t)}catch(e){if(t.throwError)throw e;G(e.message)}}function hc(e){for(var t=arguments.length,n=Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(function(e){var n=[],t=rc[e];return t&&t.ccKeys.forEach(function(e){var t=nc[e];t&&n.push(t)}),n})(e).forEach(function(e){var t;e.__$$isUnmounted||e.ctx.execute&&(t=e.ctx).execute.apply(t,n)})}function Cc(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];oc().forEach(function(e){var t;e.ctx.execute&&(t=e.ctx).execute.apply(t,n)})}function Kc(e,t,n){return{fn:e,depKeys:t,compare:n}}function gc(e,t,n){return{fn:e,depKeys:t,compare:n,lazy:!0}}function Sc(e,t){return void 0===t&&(t=!0),{fn:function(){return e},depKeys:[],compare:t}}function Ec(e,t,n,r){return{fn:e,depKeys:t,compare:n,immediate:r}}function wc(e,t,n){return{fn:e,depKeys:t,compare:n,immediate:!0}}var bc=Ve.ccClassKey_ccClassContext_,$c=Pa,xc=qa,Oc=ur,Uc=ec,Nc=Ve.store.getGlobalState,Ic=_t,Dc=Ve,Ac=ma,Rc=oc,Mc=Ve.reducer._caller,Tc=Oa,kc=Ha,Fc=u,Lc=Ve.store.appendState,jc=Qa,Pc={cloneModule:ac,emit:_c,off:mc,connect:ic,connectDumb:uc,register:$c,registerDumb:xc,registerHookComp:sc,configure:Oc,dispatch:Ic,run:cc,setGlobalState:dc,setState:fc,set:lc,setValue:pc,getGlobalState:Nc,getState:Uc,getComputed:vc,getConnectedState:yc,ccContext:Dc,createDispatcher:Ac,execute:hc,executeAll:Cc,getRefs:Rc,reducer:Mc,clearContextIfHot:Tc,CcFragment:kc,cst:Fc,appendState:Lc,useConcent:jc,bindCcToMcc:zc,defComputed:Kc,defLazyComputed:gc,defComputedVal:Sc,defWatch:Ec,defWatchImmediate:wc};function zc(e){if(!Hc)throw Error("current env is not multi concent ins mode");if(Hc[e])throw Error("ccNamespace["+e+"] already existed in window.mcc");!function(e){ce=e}(e),re(e,Pc,Hc)}function Wc(){var e=ce?window.mcc[ce]:window.cc;if(e&&e.ccContext&&e.ccContext.info){var t=e.ccContext.info.version,n=Dc.info.version;if(t!==n)throw Error("a existed version concent "+t+" is different with current about to import concent "+n+", \n        it may caused by some of your concent-eco-module with older version concent, please reinstall them (concent-*** module)")}}var Hc=window.mcc;Hc?setTimeout(function(){if(!ie())throw Error("detect window.mcc, but user forget call bindCcToMcc in bundle entry");Wc()},1e3):(Wc(),re("cc",Pc)),e.cloneModule=ac,e.run=cc,e.connect=ic,e.connectDumb=uc,e.register=$c,e.registerDumb=xc,e.registerHookComp=sc,e.configure=Oc,e.setGlobalState=dc,e.setState=fc,e.set=lc,e.setValue=pc,e.getState=Uc,e.getGlobalState=Nc,e.getConnectedState=yc,e.getComputed=vc,e.emit=_c,e.off=mc,e.dispatch=Ic,e.ccContext=Dc,e.createDispatcher=Ac,e.execute=hc,e.executeAll=Cc,e.getRefs=Rc,e.reducer=Mc,e.clearContextIfHot=Tc,e.CcFragment=kc,e.cst=Fc,e.appendState=Lc,e.useConcent=jc,e.defComputed=Kc,e.defLazyComputed=gc,e.defComputedVal=Sc,e.defWatch=Ec,e.defWatchImmediate=wc,e.bindCcToMcc=zc,e.default=Pc,Object.defineProperty(e,"__esModule",{value:!0})});
