"use strict";(self.webpackChunkhelux_docs=self.webpackChunkhelux_docs||[]).push([[2433],{85583:function(R,d,e){e.r(d);var v=e(28633),i=e.n(v),c=e(95152),u=e(74993),l=(0,c.share)({a:1,c:0}),_=i()(l,2),C=_[0],f=_[1],E=(0,c.watch)(function(){console.log("found price changed: [ priceState ]")},function(){return[C]});E.unwatch();function g(){f(function(D){return void(D.a+=100)})}function M(){E.run()}d.default=function(){return(0,u.jsxs)("div",{children:[(0,u.jsx)("h1",{children:"after calling unwatch"}),(0,u.jsx)("button",{type:"button",onClick:g,children:"change state will not trigger watch"}),(0,u.jsx)("br",{}),(0,u.jsx)("br",{}),(0,u.jsx)("button",{type:"button",onClick:M,children:"run will still trigger watch"})]})}},28145:function(R,d,e){e.r(d);var v=e(28633),i=e.n(v),c=e(95152),u=(0,c.share)({a:1}),l=i()(u,1),_=l[0],C=(0,c.atom)(3e3),f=i()(C,1),E=f[0];(0,c.watch)(function(){console.log("found price changed: [ priceState ]")},function(){return[_]}),(0,c.watch)(function(){console.log("found price or numAtom changed: ()=>[ priceState, numAtom ]")},function(){return[_,E]}),d.default=function(){return""}},17471:function(R,d,e){e.r(d);var v=e(28633),i=e.n(v),c=e(95152),u=(0,c.share)({a:1}),l=i()(u,1),_=l[0];(0,c.watch)(function(){console.log("found price.a changed: () => [priceState.a]")},function(){return[_.a]}),d.default=function(){return""}},11188:function(R,d,e){e.r(d);var v=e(28633),i=e.n(v),c=e(13517),u=e(95152),l=e(48259),_=e(74993),C=(0,u.atom)(l.dictFactory),f=i()(C,1),E=f[0];function g(M){var D=(0,u.useAtom)(E,{pure:M.pure}),T=i()(D,3),P=T[0],b=T[2],p=P.extra,y=P.name,$=P.desc,J=p.list,k=p.mark;return(0,_.jsxs)(c.MarkUpdate,{info:b,children:[(0,_.jsx)("div",{children:y}),(0,_.jsx)("div",{children:$}),(0,_.jsx)("div",{children:J.length}),(0,_.jsx)("div",{children:k})]})}d.default=function(){return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(g,{pure:!0}),(0,_.jsx)(g,{pure:!1})]})}},12754:function(R,d,e){e.r(d),e.d(d,{SimplePlayground:function(){return _e}});var v=e(28633),i=e.n(v),c=e(24325),u=e.n(c),l=e(94159),_=e(758),C=e(47831),f=e.n(C),E=e(99901),g=e.n(E),M=e(86939),D=e(95152),T=e(75829),P=e.n(T),b=e(59201),p=e(11616),y=e(72471),$=e(20826),J=e(60606),k=e(79725),j=e(55287),n=e(74993);function H(o,s){var m,h=$;return((m=h[o])===null||m===void 0?void 0:m[s])||""}var V=u()({helux:D,React:l},D),ne={quickStart:"HelloHelux",atom:"primitive",derive:"primitive",modular:"defineActions"},X={},Y=g().parse(window.location.search,{ignoreQueryPrefix:!0}),G=Y.n||"atom",z=Y.s||"primitive",oe=H(G,z);(0,j.setCodeContext)(function(o){o.key="".concat(G,"_").concat(z)});function L(o,s,m){P().getItem("helux_code_".concat(o,"_").concat(s),function(h,r){!h&&typeof r=="string"&&r.trim().length>0?m(r):m(H(o,s))})}var F;function Z(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"atom",s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"primitive",m=l.useState({name:o,subName:s}),h=i()(m,2),r=h[0],U=h[1],A=l.useState(oe),I=i()(A,2),K=I[0],x=I[1],Q=l.useState("live"),W=i()(Q,2),B=W[0],w=W[1],te=l.useState(Date.now()),q=i()(te,2),re=q[0],ee=q[1],S=l.useRef(K),ae=function(){x(S.current),ee(Date.now())},le=function(t){w(t)},se=function(){var t="".concat(window.location.origin,"?n=").concat(r.name,"&s=").concat(r.subName);f()(t),console.log("\u590D\u5236\u5F53\u524D\u793A\u4F8B\u5206\u4EAB\u94FE\u63A5\u6210\u529F",t)},de=function(){P().setItem("helux_code_".concat(r.name,"_").concat(r.subName),S.current,function(t){if(t)return console.log(t);console.log("\u4FDD\u5B58\u6210\u529F")})},N=function(t){S.current=t,x(t),ee(Date.now())},ue=function(){P().getItem("helux_code_".concat(r.name,"_").concat(r.subName),function(t,O){if(t)return alert(t.message);if(!O)return alert("\u65E0\u6700\u8FD1\u4FDD\u5B58\u7684\u4EE3\u7801\u53EF\u6062\u590D");N(O)})},ie=function(){N(H(r.name,r.subName)),console.log("\u91CD\u7F6E\u793A\u4F8B\u4EE3\u7801\u6210\u529F")};(0,l.useEffect)(function(){L(o,s,x)},[]),(0,D.useWatch)(function(){var a=j.codeContext.code;a.trim().length===0&&L(o,s,x)},function(){return[j.codeContext.code]});var ce=(0,l.useCallback)(function(a){var t=X[a]||ne[a]||"primitive";(0,j.setCodeContext)(function(O){O.key="".concat(a,"_").concat(t)}),U({name:a,subName:t}),L(a,t,x)},[r.name,r.subName]),me=(0,l.useCallback)(function(a){var t=r.name;X[t]=a,(0,j.setCodeContext)(function(O){O.key="".concat(t,"_").concat(a)}),U({name:t,subName:a}),L(t,a,x)},[r.name,r.subName]),he=function(t){if(B!=="lag"){S.current=t;return}F&&clearTimeout(F),F=setTimeout(function(){N(t)},1e3)};return{info:r,code:K,changeCode:ce,changeSubName:me,onControlClick:le,mode:B,compKey:re,clickRun:ae,onEditorCodeChange:he,copyUrl:se,saveCode:de,resetCode:ie,recoverCode:ue,changeEditorCode:N}}function _e(){var o=Z("quickStart","HelloHelux"),s=o.info,m=o.code,h=o.changeCode,r=o.changeSubName;return(0,n.jsx)(_.LiveProvider,{noInline:!0,code:m,scope:V,theme:M.themes.vsDark,children:(0,n.jsxs)("div",{className:"simple-playground-wrap",children:[(0,n.jsx)("div",{className:"leftMenuWrap",children:(0,n.jsx)(b.default,{onClick:h,name:s.name})}),(0,n.jsxs)("div",{style:{width:"calc(100% - 120px)",display:"inline-block"},children:[(0,n.jsx)(p.default,{onClick:r,name:s.name,subName:s.subName}),(0,n.jsxs)("div",{style:{display:"flex",height:"100%",paddingTop:"12px"},children:[(0,n.jsx)("div",{style:{flex:"1 1 0px",height:"100%"},children:(0,n.jsx)(_.LiveEditor,{style:{flexGrow:1}})}),(0,n.jsxs)("div",{style:{flex:"1 1 0px",height:"543px"},children:[(0,n.jsxs)("div",{style:{height:"90%",padding:"12px",boxSizing:"border-box",border:"1px solid #e8ae56"},children:[(0,n.jsx)(_.LiveError,{className:"liveErr"}),(0,n.jsx)(_.LivePreview,{})]}),(0,n.jsx)(y.default,{})]})]})]})]})})}d.default=function(){var o=Z(G,z),s=o.info,m=o.code,h=o.changeCode,r=o.changeSubName,U=o.onControlClick,A=o.mode,I=o.clickRun,K=o.compKey,x=o.onEditorCodeChange,Q=o.copyUrl,W=o.saveCode,B=o.resetCode,w=o.recoverCode;return(0,n.jsx)(_.LiveProvider,{noInline:!0,code:m,scope:V,theme:M.themes.vsDark,children:(0,n.jsxs)("div",{className:"playground-wrap",children:[(0,n.jsx)("div",{className:"leftMenuWrap",children:(0,n.jsx)(b.default,{onClick:h,name:s.name})}),(0,n.jsxs)("div",{style:{width:"calc(100% - 120px)",display:"inline-block"},children:[(0,n.jsx)(p.default,{onClick:r,name:s.name,subName:s.subName}),(0,n.jsxs)("div",{style:{display:"flex",height:"100%",padding:"0 2px"},children:[(0,n.jsxs)("div",{style:{flex:"1 1 0px",height:"100%"},children:[A==="live"&&(0,n.jsx)(_.LiveEditor,{style:{flexGrow:1}}),A!=="live"&&(0,n.jsx)(_.LiveEditor,{style:{flexGrow:1},onChange:x}),(0,n.jsx)(k.Tools,{onRunClick:I,onControlClick:U,copyUrl:Q,mode:A,saveCode:W,resetCode:B,recoverCode:w})]}),(0,n.jsxs)("div",{style:{flex:"1 1 0px",height:"calc(100vh - 118px)"},children:[(0,n.jsxs)("div",{style:{height:"50%",padding:"12px",boxSizing:"border-box",border:"1px solid #e8ae56"},children:[(0,n.jsx)(_.LiveError,{className:"liveErr"}),(0,n.jsx)(_.LivePreview,{})]}),(0,n.jsx)(y.default,{})]})]})]})]})},K)}}}]);
